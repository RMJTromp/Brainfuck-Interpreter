"use client";

import { Separator } from "@/components/ui/separator";
import Markdown from "react-markdown";
import remarkGfm from "remark-gfm";
import {cn} from "@/lib/utils";
import type { BundledLanguage } from '@/components/ui/kibo-ui/code-block';
import {
    CodeBlock,
    CodeBlockBody,
    CodeBlockContent,
    CodeBlockItem,
} from '@/components/ui/kibo-ui/code-block';

const content = `PS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPQoKQnJhaW5GdWNrIFByb2dyYW1taW5nIFR1dG9yaWFsCmJ5OiBLYXRpZQoKPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPS09LT0tPQoKCiMjIElOVFJPRFVDVElPTgoKKipCcmFpbmZ1Y2sqKiBpcyBwcm9iYWJseSB0aGUgY3Jhemllc3QgbGFuZ3VhZ2UgaSBoYXZlIGV2ZXIgaGFkIHRoZSBwbGVhc3VyZSBvZiBjb21pbmcgYWNyb3NzLiBBbmQsIHllcywgdGhlcmUgYXJlIHF1aXRlIGEgZmV3IHR1dG9yaWFscyB0aGF0IHlvdSB3aWxsIGZpbmQgb24gZ29vZ2xlIGFib3V0IHRoZSBsYW5ndWFnZSBhbmQgaG93IHRvIHByb2dyYW0gaW4gaXQsIGJ1dCBpIGFtIHdyaXRpbmcgdGhpcyBvbmUgYXMgbW9zdCBvZiB0aGVtIHRoYXQgeW91IHdpbGwgZmluZCBzZWVtIHRvIG9ubHkgY292ZXIganVzdCB0aGUgYmFzaWNzIG9mIHVzaW5nIHRoZSBvcGVyYXRvcnMuCgpCcmFpbmZ1Y2ssIGxhbmd1YWdlIGl0c2VsZiwgaXMgYSAqVHVyaW5nLWNvbXBsZXRlIGxhbmd1YWdlKiBjcmVhdGVkIGJ5IFVyYmFuIE3DvGxsZXIuIFRoZSBsYW5ndWFnZSBvbmx5IGNvbnNpc3RzIG9mIDggb3BlcmF0b3JzLCB5ZXQgd2l0aCB0aGUgOCBvcGVyYXRvcnMsIGA8PistW10sLmAgeW91IGFyZSBjYXBhYmxlIG9mIHdyaXRpbmcgYWxtb3N0IGFueSBwcm9ncmFtIHlvdSBjYW4gdGhpbmsgb2YuCgpUbyB3cml0ZSBwcm9ncmFtcyBpbiBicmFpbmZ1Y2ssIGkgd291bGQgc3VnZ2VzdCB5b3UgZ2V0IGEgZmV3IHRoaW5ncyBmaXJzdC4KCgpGaXJzdCBvZiBhbGwgeW91IHdpbGwgbmVlZCBhbiBpbnRlcnByZXRlciBvciBhIGNvbXBpbGVyLiBBbiBleHBlcmllbmNlZCBwcm9ncmFtbWVyIGNvdWxkIGVhc2lseSB3cml0ZSBvbmUgcXVpdGUgcXVpY2tseSBhZnRlciByZWFkaW5nIHRoaXMuIElmIHlvdSBkb24ndCBxdWl0ZSBrbm93IGhvdyB0byB3cml0ZSBvbmUsIEkgaGF2ZSBpbmNsdWRlZCB0aGUgc291cmNlIHRvIGEgQnJhaW5mdWNrLXRvLUMgaW50ZXJwcmV0ZXIgdGhhdCBJIHdyb3RlIGluIEMgYXMgd2VsbCBhcyBvbmUgdGhhdCBJIHdyb3RlIGluIEJyYWluRnVjayBpdHNlbGYuIEFsc28gaSBoYXZlIGluY2x1ZGVkIHRoZSBzb3VyY2UgZm9yIHRoZSB3b3JsZHMgc21hbGxlc3QgQ29tcGlsZXIgKDE3MSBieXRlcykgd3JpdHRlbiBpbiB4ODYgYXNzZW1ibHkgYnkgQnJpYW4gUmFpdGVyLiBZb3UnbGwgZmluZCBhbGwgdGhvc2UgaW4gdGhlIGxhc3Qgc2VjdGlvbiBvZiB0aGlzIHR1dG9yaWFsLgoKTmV4dCwgaSB3b3VsZCBzdWdnZXN0IGFuIEFTQ0lJIGNoYXJ0IHdpdGggYWxsIHRoZSBBU0NJSSBjaGFycyBhbmQgdGhlaXIgZGVjaW1hbCBlcXVpdmFsZW50IHZhbHVlLiBOZXh0IG9uIHRoZSBpdGVtcyBpcyB3b3VsZCBiZSBhIGNhbGN1bGF0b3IuIEFueSB3aWxsIGRvLiBJdCB3aWxsIGhlbHAgeW91IGZpZ3VyZSBvdXQgdGhlIEdyZWF0ZXN0IENvbW1vbiBGYWN0b3JzIGZvciB1c2UgaW4gaW5jcmVtZW50aW5nIGEgbWVtb3J5IGJsb2NrIHF1aWNrbHkuCgpMYXN0bHksIGkgd291bGQgcmVjb21tZW5kIGhhdmluZyBubyBsaWZlIGFuZCBsb3RzIG9mIHRpbWUgb24geW91ciBoYW5kcyB0byBhY3R1YWxseSB3YW50IHRvIHNpdCBhbmQgd3JpdGUgcHJvZ3JhbXMgaW4gdGhpcyBhbWF6aW5nbHkgaW5lZmZpY2llbnQgbGFuZ3VhZ2UuIEkgcHJvbWlzZSB5b3UsIGlmIHlvdSB0YWtlIHRoZSB0aW1lIHRvIHNpdCBhbmQgd3JpdGUgYSBwcm9ncmFtIGluIGJyYWluZnVjayBmb3IgYW4gaG91ciBvciBmaXZlLCB5b3Ugd2lsbCBkZWZpbml0ZWx5IHNlZSB3aHkgaXQgZGVzZXJ2ZXMgaXRzIG5hbWUuCgotLS0KCiMjIEJBU0lDUwoKVGhlIGlkZWEgYmVoaW5kIGBicmFpbmZ1Y2tgIGlzIG1lbW9yeSBtYW5pcHVsYXRpb24uIEJhc2ljYWxseSB5b3UgYXJlIGdpdmVuIGFuIGFycmF5IG9mIDMwLDAwMCAxYnl0ZSBtZW1vcnkgYmxvY2tzLiBUaGUgYXJyYXkgc2l6ZSBpcyBhY3R1YWxseSBkZXBlbmRlbnQgdXBvbiB0aGUgaW1wbGVtZW50YXRpb24gdXNlZCBpbiB0aGUgY29tcGlsZXIgb3IgaW50ZXJwcmV0b3IsIGJ1dCBzdGFuZGFyZCBicmFpbmZ1Y2sgc3RhdGVzIDMwLDAwMC4gV2l0aGluIHRoaXMgYXJyYXksIHlvdSBjYW4gaW5jcmVhc2UgdGhlIG1lbW9yeSBwb2ludGVyLCBpbmNyZWFzZSB0aGUgdmFsdWUgYXQgdGhlIG1lbW9yeSBwb2ludGVyLCBldGMuIExldCBtZSBmaXJzdCBwcmVzZW50IHRvIHlvdSB0aGUgOCBvcGVyYXRvcnMgYXZhaWxhYmxlIHRvIHVzLgoKYGBgYnJhaW5mdWNrCj4gPSBpbmNyZWFzZXMgbWVtb3J5IHBvaW50ZXIsIG9yIG1vdmVzIHRoZSBwb2ludGVyIHRvIHRoZSByaWdodCAxIGJsb2NrLgo8ID0gZGVjcmVhc2VzIG1lbW9yeSBwb2ludGVyLCBvciBtb3ZlcyB0aGUgcG9pbnRlciB0byB0aGUgbGVmdCAxIGJsb2NrLgorID0gaW5jcmVhc2VzIHZhbHVlIHN0b3JlZCBhdCB0aGUgYmxvY2sgcG9pbnRlZCB0byBieSB0aGUgbWVtb3J5IHBvaW50ZXIKLSA9IGRlY3JlYXNlcyB2YWx1ZSBzdG9yZWQgYXQgdGhlIGJsb2NrIHBvaW50ZWQgdG8gYnkgdGhlIG1lbW9yeSBwb2ludGVyClsgPSBsaWtlIGMgd2hpbGUoY3VyX2Jsb2NrX3ZhbHVlICE9IDApIGxvb3AuCl0gPSBpZiBibG9jayBjdXJyZW50bHkgcG9pbnRlZCB0bydzIHZhbHVlIGlzIG5vdCB6ZXJvLCBqdW1wIGJhY2sgdG8gWwosID0gbGlrZSBjIGdldGNoYXIoKS4gaW5wdXQgMSBjaGFyYWN0ZXIuCi4gPSBsaWtlIGMgcHV0Y2hhcigpLiBwcmludCAxIGNoYXJhY3RlciB0byB0aGUgY29uc29sZQpgYGAKCiMjIyMgU29tZSBydWxlczoKCi0gQW55IGFyYml0cmFyeSBjaGFyYWN0ZXIgYmVzaWRlcyB0aGUgOCBsaXN0ZWQgYWJvdmUgc2hvdWxkIGJlIGlnbm9yZWQgYnkgdGhlCmNvbXBpbGVyIG9yIGludGVycHJldG9yLiBDaGFyYWN0ZXJzIGJlc2lkZXMgdGhlIDggb3BlcmF0b3JzIHNob3VsZCBiZSBjb24tCnNpZGVyZWQgY29tbWVudHMuCgotIEFsbCBtZW1vcnkgYmxvY2tzIG9uIHRoZSAiYXJyYXkiIGFyZSBzZXQgdG8gemVybyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZQpwcm9ncmFtLiBBbmQgdGhlIG1lbW9yeSBwb2ludGVyIHN0YXJ0cyBvdXQgb24gdGhlIHZlcnkgbGVmdCBtb3N0IG1lbW9yeQpibG9jay4KCi0gTG9vcHMgbWF5IGJlIG5lc3RlZCBhcyBtYW55IHRpbWVzIGFzIHlvdSB3YW50LiBCdXQgYWxsIFsgbXVzdCBoYXZlIGEgY29ycmUtCnNwb25kaW5nIF0uCgotLS0KCioqTGV0cyBzdGFydCB3aXRoIHNvbWUgZXhhbXBsZXMgb2YgaG93IHRvIHByb2dyYW0gaW4gYnJhaW5mdWNrKiouCgojIyMjIFRoZSBzaW1wbGVzdCBwcm9ncmFtIGluIGJyYWluZnVjayBpczoKCmBgYGJyYWluZnVjawpbLV0KYGBgCgpXZWxsLCB0aGF0J3Mgd2hhdCB0aGV5IHNheSBhbnl3YXksIGJ1dCBJIGhhcmRseSBjb25zaWRlciB0aGF0IGEgcHJvZ3JhbS4gQWxsIGl0IGRvZXMgaXMgZW50ZXIgYSBsb29wIHRoYXQgZGVjcmVhc2VzIHRoZSB2YWx1ZSBzdG9yZWQgYXQgdGhlIGN1cnJlbnQgbWVtb3J5IHBvaW50ZXIgdW50aWwgaXQgcmVhY2hlcyB6ZXJvLCB0aGVuIGV4aXRzIHRoZSBsb29wLiBCdXQgc2luY2UgYWxsIG1lbW9yeSBibG9ja3Mgc3RhcnQgb3V0IGF0IHplcm8sIGl0IHdpbGwgbmV2ZXIgZW50ZXIgdGhhdCBsb29wLgoKIyMjIyBTbyBsZXRzIHdyaXRlIGEgcmVhbCBwcm9ncmFtLgoKYGBgYnJhaW5mdWNrCisrKysrWy1dCmBgYAoKClRoaXMgaXMgZXF1aXZhbGVudCBpbiBDIHRvOgoKYGBgYwoqcD0rNTsKd2hpbGUoKnAgIT0gMCl7CipwLS07Cn0KYGBgCgpJbiB0aGF0IHByb2dyYW0gd2UgYXJlIGluY3JlbWVudGluZyB0aGUgY3VycmVudCBtZW1vcnkgcG9pbnRlcnMgdmFsdWUgdG8gNSwgdGhlbiBlbnRlcmluZyBhIGxvb3AgdGhhdCBkZWNyZWFzZXMgdGhlIHZhbHVlIGxvY2F0ZWQgYXQgdGhlIG1lbW9yeSBwb2ludGVyIHRpbGwgaXQgaXMgemVybywgdGhlbiBleGl0cyB0aGUgbG9vcC4KCmBgYGJyYWluZnVjawo+Pj4+KysKYGBgCgoKVGhpcyB3aWxsIG1vdmUgdGhlIG1lbW9yeSBwb2ludGVyIHRvIHRoZSBmb3VydGggbWVtb3J5IGJsb2NrLCBhbmQgaW5jcmVtZW50IHRoZSB2YWx1ZSBzdG9yZWQgdGhlcmUgYnkgMi4gU28gaXQgbG9va3MgbGlrZQoKYGBgYnJhaW5mdWNrCm1lbW9yeSBibG9ja3MKLS0tLS0tLS0tLS0tLQpbMF1bMF1bMF1bMl1bMF1bMF0uLi4KXgptZW1vcnkgcG9pbnRlcgpgYGAKCkFzIHlvdSBjYW4gc2VlIGluIHRoZSAnay1yYWQnIEFTQ0lJIGRpYWdyYW0sIG91ciBtZW1vcnkgcG9pbnRlciBwb2ludHMgdG8gdGhlIGZvdXJ0aCBtZW1vcnkgYmxvY2ssIGFuZCBpdCBpbmNyZW1lbnRlZCB0aGUgdmFsdWUgdGhlcmUgYnkgMS4gc2luY2UgdGhlcmUgd2FzIG5vdGhpbmcgdGhlcmUgYmVmb3JlLCBpdCBub3cgY29udGFpbnMgdGhlIHZhbHVlOiAyLiBJZiB3ZSB0YWtlIHRoYXQgc2FtZSBwcm9ncmFtLCBhbmQgYWRkIG1vcmUgb250byB0aGUgZW5kIG9mIGl0IGxpa2U6CgpgYGBicmFpbmZ1Y2sKPj4+PisrPDwrPj4rCmBgYAoKCkF0IHRoZSBlbmQgb2Ygb3VyIHByb2dyYW0sIG91ciBtZW1vcnkgbGF5b3V0IHdpbGwgbG9vayBsaWtlIHRoaXM6CgpgYGBicmFpbmZ1Y2sKbWVtb3J5IGJsb2NrcwotLS0tLS0tLS0tLS0tClswXVsxXVswXVszXVswXVswXS4uLgpeCm1lbW9yeSBwb2ludGVyCmBgYAoKVGhlIHBvaW50ZXIgd2FzIG1vdmVkIHRvIHRoZSBmb3VydGggYmxvY2ssIGluY3JlbWVudGVkIHRoZSB2YWx1ZSBieSAyLCBtb3ZlZCBiYWNrIDIgYmxvY2tzIHRvIHRoZSBzZWNvbmQgYmxvY2ssIGluY3JlbWVudGVkIHRoZSB2YWx1ZWQgc3RvcmVkIHRoZXJlIGJ5IDEsIGFuZCB0aGVuIHRoZSBwb2ludGVyIG1vdmVkIDIgYmxvY2tzIHRvIHRoZSByaWdodCBhZ2FpbiB0byB0aGUgZm91cnRoIGJsb2NrIGFuZCBpbmNyZW1lbnRlZCB0aGUgdmFsdWUgc3RvcmVkIHRoZXJlIGJ5IG9uZS4gQW5kIGF0IHRoZSBlbmQgb2YgdGhlIHByb2dyYW0gdGhlIG1lbW9yeSBwb2ludGVyIGxpZXMgYmFjayBvbiB0aGUgZm91cnRoIG1lbW9yeSBibG9jay4gVGhhdCBpcyBmaW5lIGFuZCBkYW5keSwgYnV0IHdlIGNhbid0IHJlYWxseSBzZWUgYW55dGhpbmcuIFNvIGxldHMgd3JpdGUgYSBwcm9ncmFtIHRoYXQgd2lsbCBwcm9kdWNlIGFjdHVhbCBvdXRwdXQuCgpXaGVuIGNhdmVtZW4gc3RhcnRlZCBzY3Jhd2xpbmcgc2hpdCBvbiB0aGUgd2FsbHMsIHRoZSBmaXJzdCBldmVyIHBpY3R1cmUgZHJhd24gd2FzIGEgbWFuIHdhdmluZyBhdCBhIHBpY3R1cmUgb2YgdGhlIHBsYW5ldCBlYXJ0aC4gSSBhbSBub3QgYWJvdXQgdG8gYnJlYWsgdGhhdCB0cmVuZC4gc28gaSBwcmVzZW50ICJIZWxsbyBXb3JsZCEiIGluIGJyYWluZnVjay4KCmBgYGJyYWluZnVjawo+KysrKysrKysrWzwrKysrKysrKz4tXTwuPisrKysrKytbPCsrKys+LV08Ky4rKysrKysrLi4rKysuWy1dCj4rKysrKysrK1s8KysrKz4tXSA8Lj4rKysrKysrKysrK1s8KysrKysrKys+LV08LS4tLS0tLS0tLS4rKysKLi0tLS0tLS4tLS0tLS0tLS5bLV0+KysrKysrKytbPCsrKys+LSBdPCsuWy1dKysrKysrKysrKy4KYGBgCgoKV2UgbXVzdCByZW1lbWJlciB0aGF0IHdlIGFyZSB3b3JraW5nIHdpdGggbnVtYmVycywgc28gd2UgbXVzdCB1c2UgYSBjaGFyYWN0ZXIncyBBU0NJSSBkZWNpbWFsIG51bWJlciB0byByZXByZXNlbnQgaXQuIHRoZW4gd2hlbiB3ZSBwcmludCBpdCwgd2lsbCBwcmludCB0aGUgdmFsdWUgYXMgYW4gQVNDSUkgY2hhcmFjdGVyLiBMZXRzIGJyZWFrIHRoaXMgcHJvZ3JhbSBkb3duLgoKYGBgYnJhaW5mdWNrCj4rKysrKysrKytbPCsrKysrKysrPi1dPC4KYGBgCgpMZXRzIGJyZWFrIHRoaXMgcGFydCBkb3duIGZhcnRoZXIgdXNpbmcgb3VyIGRpYWdyYW1zLgoKYD5gCgpGaXJzdCB5b3UgY2FuIHNlZSwgdGhhdCB3ZSBpbmNyZW1lbnQgdGhlIG1lbW9yeSBwb2ludGVyIHRvIHRoZSBuZXh0IG1lbW9yeSBibG9jayBsZWF2aW5nIHRoZSBmaXJzdCBtZW1vcnkgYmxvY2sgYXQgemVyby4KCmBgYGJyYWluZnVjawptZW1vcnkgYmxvY2tzCi0tLS0tLS0tLS0tLS0KWzBdWzBdWzBdWzBdWzBdWzBdLi4uCl4KbWVtb3J5IHBvaW50ZXIKYGBgCgpXZSB0aGVuIGluY3JlYXNlIHRoZSB2YWx1ZSBhdCBvdXIgY3VycmVudCBtZW1vcnkgYmxvY2sgdG8gOS4KCmBgYGJyYWluZnVjaworKysrKysrKysKYGBgCgpMZWF2aW5nIG91ciBkaWFncmFtIGxpa2UgdGhpczoKCmBgYGJyYWluZnVjawptZW1vcnkgYmxvY2tzCi0tLS0tLS0tLS0tLS0KWzBdWzldWzBdWzBdWzBdWzBdLi4uCl4KbWVtb3J5IHBvaW50ZXIKYGBgCgpTaW5jZSB0aGUgYmxvY2sgd2UgYXJlIG9uIGNvbnRhaW5zIGEgbm9uLXplcm8gdmFsdWUsIHdlIHRoZW4gZW50ZXIgdGhlIGxvb3AuCgpgYGBicmFpbmZ1Y2sKWwpgYGAKCk5vdyB0aGF0IHdlIGFyZSBpbiB0aGUgbG9vcCBUaGVuIHdlIG1vdmUgdGhlIG1lbW9yeSBwb2ludGVyIG9uZSBibG9jayB0byB0aGUgbGVmdAoKCmA8YAoKV2hpY2ggZ2l2ZXMgdXM6CgpgYGBicmFpbmZ1Y2sKbWVtb3J5IGJsb2NrcwotLS0tLS0tLS0tLS0tClswXVs5XVswXVswXVswXVswXS4uLgpeCm1lbW9yeSBwb2ludGVyCmBgYAoKQW5kIHdlIGluY3JlbWVudCB0aGUgbWVtb3J5IGJsb2NrcyBzdG9yZWQgdmFsdWUgYnkgOC4KCmBgYGJyYWluZnVjaworKysrKysrKwpgYGAKClNvIG91ciBkaWFncmFtIGxvb2tzIGxpa2U6CgpgYGBicmFpbmZ1Y2sKbWVtb3J5IGJsb2NrcwotLS0tLS0tLS0tLS0tCls4XVs5XVswXVswXVswXVswXS4uLgpeCm1lbW9yeSBwb2ludGVyCmBgYAoKVGhlbiB3ZSBtb3ZlIHRoZSBtZW1vcnkgcG9pbnRlciBvbmUgYmxvY2sgdG8gdGhlIHJpZ2h0LCB0byB0aGUgc2Vjb25kIG1lbW9yeSBibG9jayBhZ2FpbiwgYW5kIGRlY3JlYXNlIHRoZSB2YWx1ZSBzdG9yZWQgdGhlcmUgZnJvbSA5IHRvIDguCgpgYGBicmFpbmZ1Y2sKPi0KYGBgCgpEaWFncmFtOgoKYGBgYnJhaW5mdWNrCm1lbW9yeSBibG9ja3MKLS0tLS0tLS0tLS0tLQpbOF1bOF1bMF1bMF1bMF1bMF0uLi4KXgptZW1vcnkgcG9pbnRlcgpgYGAKCldlIHRoZW4gaGl0IHRoZSBlbmQgb2Ygb3VyIGxvb3AuCgoKYGBgYnJhaW5mdWNrCl0KYGBgCgoKSXQgY2hlY2tzIHRvIHNlZSBpZiB0aGUgbWVtb3J5IGJsb2NrIHRoZSBwb2ludGVyIGN1cnJlbnRseSBwb2ludHMgdG8gY29udGFpbnMgdGhlIHZhbHVlIHplcm8sIGJ1dCBjdXJyZW50IG1lbW9yeSBibG9jaydzIHN0b3JlZCB2YWx1ZSBpcyBub3QgemVybywgc28gdGhlIGxvb3Agc3RhcnRzIG92ZXIuIE1vdmluZyB0aGUgcG9pbnRlciB0byB0aGUgbGVmdC4gSW5jcmVhc2luZyBpdCBieSA4LCBhbmQgbW92aW5nIHRoZSBwb2ludGVyIHRvIHRoZSByaWdodC4gYW5kIGRlY3JlYXNpbmcgaXQgYnkgMS4gQWZ0ZXIgdGhlIDJuZCBwYXNzIG9mIGFsbCB0aGF0LCBvdXIgZGlhZ3JhbSBub3cgbG9va3MgbGlrZToKCmBgYGJyYWluZnVjawptZW1vcnkgYmxvY2tzCi0tLS0tLS0tLS0tLS0KWzE2XVs3XVswXVswXVswXVswXS4uLgpeCm1lbW9yeSBwb2ludGVyCmBgYAoKSXQgd2lsbCBjb250aW51ZSB0aGlzIHByb2Nlc3Mgb3ZlciBhbmQgb3ZlciB1bnRpbCB0aGUgdmFsdWUgc3RvcmVkIGF0IHRoZSBzZWNvbmQgbWVtb3J5IGJsb2NrIGlzIHplcm8uIEl0IHRoZW4gZXhpdHMgdGhlIGxvb3AuIE9uY2Ugd2UgaGF2ZSBleGl0ZWQgdGhlIGxvb3AuIFRoZSBwcm9ncmFtIG1vdmVzIHRoZSBwb2ludGVyIGJhY2sgdG8gdGhlIGZpcnN0IG1lbW9yeSBibG9jayBvbmUgZmluYWwgdGltZSwgYW5kIHByaW50cyB0aGUgdmFsdWUgc3RvcmVkIHRoZXJlLiBJZiB5b3UgZm9sbG93ZWQgdGhhdCwgeW91IHdvdWxkIHNlZSB0aGF0IHdlIGluY3JlYXNlZCB0aGUgZmlyc3QgbWVtb3J5IGJsb2NrcyBzdG9yZWQgdmFsdWUgYnkgOCwgOSB0aW1lcy4gV2Uga25vdyB0aGF0IDgqOT03MiBhbmQgNzIgaXMgdGhlIEFTQ0lJIGRlY2ltYWwgdmFsdWUgZm9yICdIJy4KCmBgYGJyYWluZnVjawo8LgpgYGAKCkFuZCB0aGUgZGlhZ3JhbToKCmBgYGJyYWluZnVjawptZW1vcnkgYmxvY2tzCi0tLS0tLS0tLS0tLS0KWzcyXVswXVswXVswXVswXVswXS4uLgpeCm1lbW9yeSBwb2ludGVyCmBgYAoKY2FsbCB0aGUgcHJpbnQgZnVuY3Rpb24uIGFuZCAnSCcgaXMgcHJpbnRlZCB0byB0aGUgY29uc29sZS4KCldvdy4uLnRoYXQgd2FzIGEgbG90IG9mIGZyZWFraW5nIHdvcmsganVzdCB0byBwcmludCBvbmUgc2luZ2xlIGNoYXJhY3Rlci4gV2h5IHlvdSBtYXkgYXNrIHdvdWxkIHlvdSB3YW50IHRvIHdhc3RlIHlvdXIgdGltZSBwcm9ncmFtbWluZyBpcyB0aGlzIGhvcnJpYmx5IGluZWZmaWNpZW50IHByb2dyYW1taW5nIGxhbmd1YWdlPyE/IFdlbGwsIGJlY2F1c2Ugc29tZSBvZiB1cyBoYWNrZXJzIHRoYXQgYWN0dWFsbHkgbGlrZSB0byBkbyBmdW4gYW5kIGNoYWxsZW5naW5nIHRoaW5ncyB0byBleHBhbmQgb3VyIG1pbmRzIGFuZCBtYWtlIHVzIHRoaW5rIGFuZCBhcmVuJ3QganVzdCBvdXQgdG8gaGF4MHIgdXAgYSBnaWJzb24gb3IgdHdvIHRvIHNob3cgZXZlcnlvbmUgd2hvJ3MgdGVoIDEzMzcuIEFueXdheXMsIGNhcnJ5aW5nIG9uLi4uCgpJZiB3ZSB3ZXJlIHRvIHdyaXRlIHRoYXQgaW4gQywgaXQgd291bGQgYmUgbGlrZToKCmBgYGMKKytwOwoqcD0rOTsKd2hpbGUoKnAgIT0gMCl7Ci0tcDsKKnA9Kzg7Ci0tcDsKLS0qcDsKfQotLXA7CnB1dGNoYXIoKnApOwpgYGAKCgpJJ20gZ29pbmcgdG8gbGVhdmUgaXQgdXAgdG8geW91IHRvIGZpZ3VyZSBvdXQgaG93IHRoZSByZXN0IG9mIHRoYXQgaXMgcHJpbnRpbmcgb3V0ICJIZWxsbyBXb3JsZCEiIEJ1dCBmcm9tIHRoYXQgeW91IHNob3VsZCBoYXZlIHRoZSBiYXNpY3Mgb2YgbWVtb3J5IHBvaW50ZXIgYW5kIHZhbHVlIG1hbmlwdWxhdGlvbi4KCgoKLS1bIDMgXSBJTlBVVAoKSW5wdXQgaW4gYnJhaW5mdWNrIGlzIGNvbnRyb2xsZWQgYnkgdGhlICcsJyBvcGVyYXRvci4gSXQgd2lsbCBnZXQgYSBjaGFyYWN0ZXIgYW5kIHN0b3JlIGl0cyBBU0NJSSBkZWNpbWFsIHZhbHVlIHRvIHRoZSBjdXJyZW50IG1lbW9yeSBibG9jayB0aGF0IHRoZSBtZW1vcnkgcG9pbnRlciBwb2ludHMgdG8uIExldHMgZXhwZXJpbWVudCB3aXRoIGl0IGEgYml0LgoKUmVtZW1iZXIsIHdoZW4geW91IHVzZSB0aGUgaW5wdXQgb3BlcmF0b3IsIHlvdSBhcmUgYWN0dWFsbHkgc3RvcmluZyB0aGUgZGVjaW1hbCBBU0NJSSB2YWx1ZSBvZiB0aGUgY2hhcmFjdGVyIHlvdSBwcmVzcyBvbiB0aGUga2V5Ym9hcmQuIFNvIHByZXNzaW5nIDIgZm9yIGlucHV0IGlzbid0IGFjdHVhbGx5IHN0b3JpbmcgMi4gSXRzIHN0b3JpbmcgdGhlIGRlY2ltYWwgdmFsdWUgb2YgdGhlIEFTQ0lJIGNoYXIgJzInLCB3aGljaCBpcyBkZWNpbWFsIDUwLgoKYGBgYnJhaW5mdWNrCiwuLC4sLgpgYGAKClRoaXMgd2lsbCB0YWtlIGluIDMgY2hhcmFjdGVycyBhbmQgcHJpbnQgdGhlbSBvdXQuIExldHMgd3JpdGUgc29tZXRoaW5nIG1vcmUgY29tcGxleC4KCmBgYGJyYWluZnVjawo+LFs+LF08WzxdPlsuPl0KYGBgCgpUaGlzIGlzIGEgcHJvZ3JhbSB0aGF0IHdpbGwgYWN0IGxpa2UgdGhlIFVOSVggY2F0IGNvbW1hbmQuIEl0IHdpbGwgcmVhZCBpbiBmcm9tIFNURElOIGFuZCBvdXRwdXQgdG8gU1RET1VULiBMZXRzIGJyZWFrIGl0IGRvd24uCgpgYGBicmFpbmZ1Y2sKPiwKYGBgCgpNb3ZlIHRoZSBtZW1vcnkgcG9pbnRlciB0aGUgdGhlIHNlY29uZCBtZW1vcnkgYmxvY2sgbGVhdmluZyB0aGUgZmlyc3QgYmxvY2sgd2l0aCBhIHZhbHVlIG9mIHplcm8uIElucHV0IGEgdmFsdWUgYW5kIHN0b3JlIGl0IGF0IHRoZSBjdXJyZW50IG1lbW9yeSBwb2ludGVyIGxvY2F0aW9uIHdoaWNoIGlzIHRoZSBzZWNvbmQgbWVtb3J5IGJsb2NrLgoKYGBgYnJhaW5mdWNrCls+LF0KYGBgCgpCZWdpbiBhIGxvb3AgdGhhdCB3aWxsIG1vdmUgdGhlIHBvaW50ZXIgdXAgYSBtZW1vcnkgYmxvY2ssIGFuZCBJbnB1dCBhIHZhbHVlIGFuZCBzdG9yZSBpdCB0aGVyZS4gVGhpcyB3aWxsIHJlcGVhdCB1bnRpbCBpdCBlbmNvdW50ZXJzIGEgTlVMTCBjaGFyYWN0ZXIgKFwwIG9yIGRlY2ltYWwgdmFsdWUgb2YgemVybyk7CgpgYGBicmFpbmZ1Y2sKPFs8XQpgYGAKClJld2luZC4gT25jZSB3ZSd2ZSBtYWRlIGl0IHRvIHRoaXMgcG9pbnQgaW4gdGhlIHByb2dyYW0sIGl0IG1lYW5zIHRoYXQgd2UgaGF2ZSBlbmNvdW50ZXJlZCBhIE5VTEwgY2hhcmFjdGVyLiBTbyBpbiBvcmRlciB0byBzdGFydCBvdXIgbG9vcCwgd2UgbmVlZCB0byBtb3ZlIHRoZSBtZW1vcnkgcG9pbnRlciBvbmUgbWVtb3J5IGJsb2NrIGJhY2t3YXJkcyBzbyB0aGF0IHdlIGhhdmUgYSBub24temVybyB2YWx1ZSBzdG9yZWQgdGhlcmUuIE9uY2UgdGhlcmUsIHRoZSBsb29wcyBzdGFydHMsIGFuZCBtb3ZlcyB0aGUgbWVtb3J5IHBvaW50ZXIgb25lIGJsb2NrIHRvIHRoZSBsZWZ0IHVudGlsIHdlIHJlYWNoIHRoZSBmaXJzdCBtZW1vcnkgYmxvY2ssIHdoaWNoIHdlIGxlZnQgd2l0aCBhIHZhbHVlIG9mIHplcm8gYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgcHJvZ3JhbS4gT25jZSBpdCByZWFjaGVzIHRoZSBmaXJzdCBtZW1vcnkgYmxvY2sgd2l0aCB0aGUgdmFsdWUgb2YgemVybywgdGhlIGxvb3AgZXhpdHMuCgpgYGBicmFpbmZ1Y2sKPlsuPl0KYGAKCk5vdyB3ZSBtb3ZlciBvdXIgbWVtb3J5IHBvaW50ZXIgdG8gdGhlIHJpZ2h0IG9uZSBzcGFjZSwgc28gd2UgYXJlIG5vdyBvbiBhIG1lbW9yeSBibG9jayBjb250YWluaW5nIGEgbm9uLXplcm8gdmFsdWUuIFdlIGVudGVyIGEgbG9vcCBhbmQgcHJvY2VlZCB0byBwcmludCB0aGUgY3VycmVudCB2YWx1ZSBzdG9yZWQsIHRoZW4gbW92ZSB0aGUgbWVtb3J5IHBvaW50ZXIgdG8gdGhlIHJpZ2h0LiBXZSBjb250aW51ZSB0byBkbyB0aGlzIHVudGlsIHdlIGNvbWUgdG8gYSBtZW1vcnkgYmxvY2sgY29udGFpbmluZyBhIE5VTEwgY2hhcmFjdGVyICh6ZXJvKSBhbmQgdGhlbiB0aGUgbG9vcCBleGl0cy4KCnRoaXMgcHJvZ3JhbSBpbiBDIHdvdWxkIGJlIGxpa2U6CgpgYGBjCisrcDsKKnA9Z2V0Y2hhcigpOwp3aGlsZSgqcCAhPSAwKXsKKytwOwoqcD1nZXRjaGFyKCk7Cn0KLS1wOwp3aGlsZSgqcCAhPSAwKSAtLXA7CisrcDsKd2hpbGUoKnAgIT0gMCl7CnB1dGNoYXIoKnApOworK3A7Cn0KYGBgCgpOb3cgdGhhdCB3ZSBhcmUgYWJsZSB0byBpbnB1dC9vdXRwdXQgYW5kIG1hbmlwdWxhdGUgb3VyIG1lbW9yeSwgdGhlcmUgaXMgYWxyZWFkeSBhIHdlYWx0aCBvZiBwcm9ncmFtcyB5b3UgY291bGQgd3JpdGUuCgoKCiMjIFRSSUNLUwoKVGhlcmUgYXJlIG1hbnkgbGl0dGxlIHRyaWNrcyB5b3UgY2FuIHVzZSBpbiBicmFpbmZ1Y2sgdG8gbWFrZSBpdCBlYXNpZXIuIEkgd2lsbCB0cnkgdG8gY292ZXIgb25lcyBpIGhhdmUgZmlndXJlIG91dC4KCkhvdyB0byBtb3ZlIG9yIHNoaWZ0IGEgdmFsdWUgZnJvbSBvbmUgbWVtb3J5IGJsb2NrIHRvIGFub3RoZXI6CgpgYGBicmFpbmZ1Y2sKKysrKytbPj4rPDwtXQpgYGAKClRoaXMgd2lsbCBzZXQgdGhlIGZpcnN0IG1lbW9yeSBibG9jayB0byB0aGUgdmFsdWUgb2YgNS4gSXQgdGhlbiBzdGFydHMgYSBsb29wIHRoYXQgd2lsbCBjb3B5IHRoZSB2YWx1ZSBzdG9yZWQgaW4gdGhlIGZpcnN0IGJsb2NrLCB0byB0aGUgdGhpcmQgbWVtb3J5IGJsb2NrLiBMZWF2aW5nIHRoZSBmaXJzdCBtZW1vcnkgYmxvY2sgZW1wdHkgYWdhaW4uCgpIb3cgdG8gY29weSBmcm9tIG9uZSBtZW1vcnkgYmxvY2sgdG8gYW5vdGhlcjoKCmBgYGJyYWluZnVjaworKysrK1s+Pis+Kzw8PC1dPj4+Wzw8PCs+Pj4tXQpgYGAKClRoaXMgbGl0dGxlIHByb2dyYW0gc2V0cyB0aGUgZmlyc3QgbWVtb3J5IGJsb2NrIHRvIHRoZSB2YWx1ZSBvZiA1LiBUaGVuIGl0IGdvZXMgYW5kIGNvcGllcyB0aGF0IHZhbHVlIHRvIHRoZSAzcmQgbWVtb3J5IGJsb2NrIGFuZCA0dGggbWVtb3J5IGJsb2NrLCBsZWF2aW5nIHRoZSBmaXJzdCBtZW1vcnkgYmxvY2sgZW1wdHkuIEl0IHRoZW4gbW92ZXMgdGhlIHZhbHVlIGZyb20gdGhlIDR0aCBtZW1vcnkgYmxvY2sgYmFjayB0byB0aGUgZmlyc3Qgb25lLCBsZWF2aW5nIHRoZSA0dGggYmxvY2sgZW1wdHkuCgpBZGRpdGlvbiBvZiAyIG1lbW9yeSBibG9ja3MgYW5kIGVhc2lseSBiZSBkb25lIGFzIHdlbGwuCgpgYGBicmFpbmZ1Y2sKKysrKys+KysrWzwrPi1dCmBgYAoKV2UgaW5jcmVtZW50IHRoZSBmaXJzdCBibG9jayB0byA1LiBNb3ZlIHRoZSBwb2ludGVyIHRoZSB0aGUgcmlnaHQgb25lIGJsb2NrLCBhbmQgdGhlbiBpbmNyZW1lbnQgdGhhdCBibG9jayBieSB0aHJlZS4gV2Ugd2FudCB0byBhZGQgdGhlIHNlY29uZCBtZW1vcnkgYmxvY2sgdG8gdGhlIGZpcnN0IG9uZS4gU28gd2UgZW50ZXIgYSBsb29wIHRoYXQgd2lsbCBtb3ZlIHRoZSBwb2ludGVyIHRvIHRoZSBsZWZ0IG9uZSBibG9jaywgYWRkIG9uZSwgdGhlbiBtb3ZlIGl0IHRvIHRoZSByaWdodCAxIGJsb2NrIGFuZCBzdWJ0cmFjdCBvbmUuCgpTdWJ0cmFjdGlvbiBvZiBvbmUgYmxvY2sgZnJvbSBhbm90aGVyIGlzIGp1c3QgYXMgZWFzeS4KCmBgYGJyYWluZnVjaworKysrKysrPisrKysrWzwtCmBgYAoKV2UgaW5jcmVtZW50IHRoZSBmaXJzdCBibG9jayB0byA3LCBtb3ZlIHRvIHRoZSByaWdodCBvbmUgYmxvY2ssIGluY3JlbWVudCBpdCBieSA1LCB0aGVuIHdlIGJlZ2luIGEgbG9vcCB0aGF0IHdpbGwgbW92ZSB0aGUgcG9pbnRlciB0byB0aGUgbGVmdCBhbmQgc3VidHJhY3Qgb25lIHRoZW4gbW92ZSB0aGUgcG9pbnRlciBiYWNrIHRvIHRoZSByaWdodCBhbmQgZGVjcmVhc2UgdGhlIHZhbHVlIHN0b3JlZCB0aGVyZS4gRG9pbmcgdGhpcyB1bnRpbCB3ZSBoYXZlIHN1YnRyYWN0ZWQgNSBmcm9tIDcuCgpNdWx0aXBsaWNhdGlvbiB3ZSBoYXZlIGNvdmVyZWQgYmVmb3JlIGluIG91ciBoZWxsbyB3b3JsZCBwcm9ncmFtLCBidXQgaSB3aWxsIGdvIG92ZXIgaXQgYWdhaW4gcmlnaHQgaGVyZS4KCmBgYGJyYWluZnVjaworKytbPisrKysrPC1dCmBgYAoKV2UganVzdCBpbmNyZW1lbnRlZCB0aGUgZmlyc3QgYmxvY2tzIHZhbHVlIHRvIDMsIHRoZW4gc3RhcnRlZCBhIGxvb3AgdGhhdCB3aWxsIG1vdmUgdGhlIHBvaW50ZXIgdG8gdGhlIHJpZ2h0IG9uZSBibG9jaywgYWRkIDUsIHRoZW4gbW92ZSB0aGUgcG9pbnRlciBiYWNrIHRvIHRoZSBsZWZ0IG9uZSBibG9jayBhbmQgc3VidHJhY3Qgb25lLiBUaGlzIHdpbGwgYWNjb21wbGlzaCBtdWx0aXBseWluZyA1IGJ5IDMgYW5kIGxlYXZlIHRoZSB2YWx1ZSBzdG9yZWQgYXQgdGhlIHNlY29uZCBtZW1vcnkgYmxvY2sgYXQgMTUuCgpEaXZpc2lvbiBpcyB0aGUgc2FtZSwgYnV0IHdlIHN1YnRyYWN0IGluc3RlYWQuCgojIyBJRiBTVEFURU1FTlRTCgpJZiBzdGF0ZW1lbnRzIHRvb2sgYSB3aGlsZSBmb3IgbWUgdG8gZ2V0IHRoZSBoYW5nIG9mLCBidXQgYWZ0ZXIgYSB3aGlsZSB0aGV5CmZpbmFsbHkganVzdCBjbGlja2VkIGZvciBtZS4gQmFzaWNhbGx5IGlmIHlvdSB0aGluayBhYm91dCBpdCwgYW4gaWYgc3RhdGVtZW50IGlzCmp1c3QgdGVzdGluZyB3aGV0aGVyIGEgY29uZGl0aW9uIGlzIFRSVUUgb3IgRkFMU0UuIFRoYXQgaXMgdG8gc2F5IHplcm8gb3Igbm9uLQp6ZXJvLiBTbyBpIHdpbGwgdHJ5IHRvIHNob3cgdGhlbSB0aGUgYmVzdCBpIGNhbiwgYXMgY29uZGl0aW9uYWwgc3RhdGVtZW50cyBpbgpCcmFpbkZ1Y2sgc2VlbSB0byBiZSBvbmUgb2YgdGhlIGxlc3MgZG9jdW1lbnRlZCB0aGluZ3MgYWJvdXQgdGhlIGxhbmd1YWdlLgoKU2F5IHdlIHdhbnQgdG8gaW5wdXQgaW50byBtZW1vcnkgYmxvY2sgMS4gVGhlbiB3ZSB3b3VsZCBsaWtlIHRvIHRlc3QgaWYgdGhlIGlucHV0IHZhbHVlICh4KSB3YXMgZXF1YWwgdG8gNSwgYW5kIGlmIHNvLCBzZXQgeSB0byAzLiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gZG8gdGhpcywgb25lIGlzIHRoZSBkZXN0cnVjdGl2ZSBmbG93IGNvbnRyb2wsIHdoZXJlIGl0IGRpbWluaXNoZXMgdGhlIHZhbHVlIHlvdSBhcmUgdGVzdC4gVGhlIG90aGVyIG9idmlvdXNseSBub24tZGVzdHJ1Y3RpdmUgZmxvdyBjb250cm9sLiB3aGVyZSB5b3UgdmFyaWFibGUgc3RheXMgaW50YWN0LgoKSGVyZSBpcyBub24gZGVzdHJ1Y3RpdmU6CgppbiBDOgoKYGBgYwp4PWdldGNoYXI7CmlmKHggPT0gNSl7CnkgPSAzOwp9CmBgYAoKSW4gQnJhaW5GdWNrOgoKYGBgYnJhaW5mdWNrCixbPj4rPis8PDwtXT4+Pls8PDwrPj4+LV0+Kzw8Wy0tLS0tWz5dPj5bPDw8KysrPj4+Wy1dXQpgYGAKCk9uY2UgYWdhaW4sIGxldHMgYnJlYWsgdGhhdCBkb3duIHRvIGhvcGVmdWxseSBleHBsYWluIHRoYXQgYmV0dGVyLiBSdW4gdGhvdWdoIHRoaXMgdHdpY2UuIE9uY2UgYXMgd2UgZ28gYWxvbmcgYXNzdW1pbmcgdGhlIHZhbHVlIDYgd2FzIGVudGVyZWQsIGFuZCBvbmNlIGFzc3VtaW5nIHRoZSB2YWx1ZSA1IHdhcyBlbnRlcmVkLiBBbHNvLCByZW1lbWJlciwgQnJhaW5mdWNrIHdpbGwgX29ubHlfIGVudGVyIGFzIGxvb3AgaWYgdGhlIHZhbHVlIGluIHRoZSBibG9jayB0aGF0IHRoZSBwb2ludGVyIGlzIGN1cnJlbnRseSBvbiBpcyBub24temVyby4gSWYgdGhlIHZhbHVlIGF0IHRoZSBibG9jayBpcyB6ZXJvLCB0aGVuIGl0IHdpbGwgc2tpcCBvdmVyIHRoYXQgbG9vcCBhbmQgaWdub3JlIGl0LiBBbmQgdGhlIHNhbWUgZ29lcyB3aGlsZSBpbiBhIGxvb3AuIElmIHdoZW4gaXQgcmVhY2hlcyB0aGUgb3RoZXIgZW5kIG9mIHRoYXQgbG9vcCAoIF0gKSwgaWYgdGhlIHZhbHVlIHN0b3JlZCBhdCB0aGUgYmxvY2sgd2hlcmUgdGhlIHBvaW50ZXIgaXMgY3VycmVudGx5IGF0IGlzIHplcm8sIGl0IHdpbGwgZXhpdCB0aGUgbG9vcCBhbmQgY29udGludWUgb24gd2l0aCB0aGUgcHJvZ3JhbS4KCmlucHV0IGludG8geC4KCmBgYGJyYWluZnVjawosCmBgYAoKYGBgYnJhaW5mdWNrCjEgMiAzIDQgNSA2Clt4XVt5XVswXVswXVswXVswXS4uLgpeCm1lbW9yeSBwb2ludGVyCmBgYAoKY29weSBmcm9tIGJsb2NrIDEsIHRvIGJsb2NrIDMsIHVzaW5nIGJsb2NrIDQgYXMgYSB0ZW1wIHN0b3JhZ2UuIFdlIGVuZCBvbiBibG9jayBudW1iZXIgNC4KCmBgYGJyYWluZnVjawpbPj4rPis8PDwtXT4+Pls8PDwrPj4+LV0KYGBgCgpgYGBicmFpbmZ1Y2sKMSAyIDMgNCA1IDYKW3hdW3ldW3hdWzBdWzBdWzBdCl4KbWVtb3J5IHBvaW50ZXIKYGBgCgpzZXQgYmxvY2sgNSB0byAxLiBUaGlzIHdpbGwgYmUgb3VyIGJsb2NrIHRvIHRlc3QgZm9yIHRydWUgb2YgZmFsc2UuIFRoZW4gbW92ZSB0aGUgcG9pbnRlciBiYWNrIHRvIDMuCgpgYGBicmFpbmZ1Y2sKPis8PApgYGAKCmBgYGJyYWluZnVjawoxIDIgMyA0IDUgNgpbeF1beV1beF1bMF1bMV1bMF0KXgptZW1vcnkgcG9pbnRlcgpgYGAKCk5vdyBzdWJ0cmFjdCA1IGFuZCBpZiB4IHdhcyA1IHNldCB5IHRvIDMgYW5kIHRoZW4gbW92ZSB0aGUgcG9pbnRlciBiYWNrIG92ZXIgdG8gYmxvY2sgNSBhbmQgc2V0IGJhY2sgdG8gemVybyBzbyB0aGF0IHRoZSBsb29wIHdpbGwgb25seSBydW4gb25jZS4gSWYgeCB3YXMgbm90IGVxdWFsIHRvIDUsIHRoZW4gdGhlIHBvaW50ZXIgd2lsbCBlbmQgdXAgcmVzdGluZyBvbiBtZW1vcnkgYmxvY2sgNi4KClstLS0tLVs+XT4+Wzw8PCsrKz4+PlstXV0KCgppZiB4IHdhcyA1OgoKMSAyIDMgNCA1IDYKW3hdWzNdWzBdWzBdWzBdWzBdLi4uCl4KbWVtb3J5IHBvaW50ZXIKCmlmIHggd2FzIG5vdCA1CgoxIDIgMyA0IDUgNgpbeF1beV1beF1bMF1bMV1bMF0uLi4KXgptZW1vcnkgcG9pbnRlcgoKVGhhdCB3YXMgdGhlIG5vbiBkZXN0cnVjdGl2ZSB3YXkgdG8gZG8gYW4gaWYgc3RhdGVtZW50LiBUaGUgZGVzdHJ1Y3RpdmUgd2F5IHdvdWxkIGJlIHRvIGp1c3Qgc3VidHJhY3QgZnJvbSB0aGUgaW5wdXQgdmFyaWFibGUgZGlyZWN0bHkgaW5zdGVhZCBvZiBjb3B5aW5nIGl0LiB0aGlzIHdpbGwgbGVhZCB0byBtdWNoIHNob3J0ZXIgY29kZS4gTGV0cyB0ZXN0IHggZm9yIHRoZSB2YWx1ZSA1IGFnYWluIGFuZCBzZXQgeSB0byAzIGlmIGl0IGlzLgoKRGVzdHJ1Y3RpdmUgd2F5OgoKPj4rWzw8LC0tLS0tWz5dPj5bPDwrKys+PlstXV1dCgoKCldlbGwgSSBob3BlIHlvdSBlbmpveWVkIGxlYXJuaW5nIGhvdyB0byBwcm9ncmFtIGluIEJyYWluRnVjayBhcyBtdWNoIGFzIEkgZGlkLiBUaGF0cyBhbGwgSSBoYXZlIHRvIHdyaXRlIGFib3V0IGZvciBub3cuIE1heWJlIEknbGwgd3JpdGUgYW5vdGhlciBwYXBlciBsYXRlciBvbiB3aXRoIG1vcmUgYWR2YW5jZWQgdGVjaG5pcXVlcyBhcyBJIGZpZ3VyZSB0aGVtIG91dC4gVW50aWwgdGhlbiwgaGVyZSBhcmUgc29tZSBjaGFsbGVuZ2VzIHRvIGdpdmUgeW91IHNvbWV0aGluZyB0byBwcm9ncmFtIGluIGJyYWluZnVjazoKCjEuIFdyaXRlIGEgcHJvZ3JhbSB0byBwcmludCB5b3VyIG5hbWUuCjIuIFdyaXRlIGEgcHJvZ3JhbSB0byBwcmludCBhbGwgcHJpbnRhYmxlIEFTQ0lJIGNoYXJhY3RlcnMuCjMuIChGcm9tIEJyYWluRnVjayBHb2xmKSBXcml0ZSBhIHByb2dyYW0gdGhhdCB3aWxsIHRha2UgYSBOVUxMICgnXDAnKSB0ZXJtaW5hLQp0ZWQgc3RyaW5nIGFzIGlucHV0LCBhbmQgb3V0cHV0IHNvdXJjZSBjb2RlIGZvciBhIEJyYWluRnVjayBwcm9ncmFtIHRoYXQKd2hlbiBjb21waWxlZCBhbmQgcmFuLCB3aWxsIHByaW50IHRoZSBzdHJpbmcgaW5wdXQgaW50byB0aGUgZmlyc3QgcHJvZ3JhbS4KKHllcywgdGhpcyBzb3VuZHMgbGlrZSBhIGRvb3p5LCBidXQgSSd2ZSBhY3R1YWxseSBkb25lIHRoaXMgaW4gMSBvZiBjb2RlKS4KCgoKIyMgQlJBSU5GVUNLLVRPLUMgSU5URVJQUkVUT1IKCkhlcmUgaXMgdGhlIHNvdXJjZSBmb3IgYSBCcmFpbmZ1Y2sgdG8gQyBpbnRlcnByZXRvciBhbmQgZnJvbnQgZW5kIGNvbXBpbGVyIHdyaXR0ZW4gaW4gQyB0aGF0IEkgd3JvdGUgd2hlbiBmaXJzdCBsZWFybmluZyB0aGUgaG93IHRvIHByb2dyYW0gaW4gYnJhaW5mdWNrLiBPciBpZiB5b3UgcmVhbGx5IHdvdWxkIGxpa2UgdG8gc2VlIHNvbWV0aGluZywgYmVsb3cgdGhlIEMgdmVyc2lvbiBpcyBhIEJyYWluRnVjayB0byBDIGludGVycHJldG9yIHRoYXQgSSB3cm90ZS4uLmluIEJyYWluRnVjayEKCmBgYGMKLyoKKiBvYmZjLmMKKiBUaGUgQnJhaW5mdWNrIGNvbXBpbGVyCiogQSBzaW1wbGUgQnJhaW5GdWNrIHRvIEMgaW50ZXJwcmV0ZXIgYW5kIENvbXBpbGVyLgoqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOwoqLwoKI2luY2x1ZGUKI2luY2x1ZGUKI2luY2x1ZGUKI2RlZmluZSBDQyAiL3Vzci9iaW4vZ2NjIgoKdm9pZCB1c2FnZShjaGFyICoqYXJndik7CnZvaWQgZ2VuZXJhdGUoY2hhciAqY19vdXRwdXRfbmFtZSk7CgpGSUxFICpvdXRmaWxlOwpGSUxFICppbmZpbGU7CgoKaW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKiphcmd2KXsKCmNoYXIgYzsKY2hhciAqb3V0cHV0X25hbWU7IC8qIG5hbWUgb2YgdGhlIGV4ZWN1dGFibGUgdGhhdCB3aWxsIGJlIG1hZGUgKi8KY2hhciAqY19vdXRwdXRfbmFtZTsgLyogbmFtZSBvZiB0aGUgQyBzb3VyY2UgZmlsZSB0aGF0IGlzIGdlbmVyYXRlZCAqLwpjaGFyIGNvbXBpbGVfb3B0c1syNTZdID0gQ0M7IC8qIHRoaXMgYXJyYXkgd2lsbCBjb250YWluIHRoZSBjb21waWxlciBvcHRpb25zICovCmludCBrZWVwX2ZpbGUgPSAwOyAvKiBLZWVwIHRoZSBnZW5lcmF0ZWQgQyBzb3VyY2UgZmlsZT8gKi8KaW50IHZlcmJvc2UgPSAwOyAvKiBVc2UgdmVyYm9zZSBvdXRwdXQ/ICovCmludCBub19jb21waWxlID0gMDsgLyogRG9uJ3QgY29tcGlsZSwganVzdCBnZW5lcmF0ZSBDIHNvdXJjZSBmaWxlICovCgppZihhcmdjIDwgMil7CnVzYWdlKGFyZ3YpOwpleGl0KDEpOwp9CgovKiBjaGsoYXJndik7ICovCgp3aGlsZSgxKXsKYyA9IGdldG9wdChhcmdjLCBhcmd2LCAibzpjOmtudmgiKTsKaWYoYyA8IDApIGJyZWFrOwoKc3dpdGNoKGMpewpjYXNlICdvJzoKb3V0cHV0X25hbWUgPSBvcHRhcmc7CmJyZWFrOwpjYXNlICd2JzoKdmVyYm9zZSA9IDE7CmJyZWFrOwpjYXNlICdoJzoKdXNhZ2UoYXJndik7CmJyZWFrOwpjYXNlICdrJzoKa2VlcF9maWxlID0gMTsKYnJlYWs7CmNhc2UgJ2MnOgpjX291dHB1dF9uYW1lID0gb3B0YXJnOwpicmVhazsKY2FzZSAnbic6Cm5vX2NvbXBpbGUgPSAxOwprZWVwX2ZpbGUgPSAxOwpicmVhazsKfQp9CgoKaWYoKG9wdGluZCA+PSBhcmdjKSB8fCAoc3RyY21wKGFyZ3Zbb3B0aW5kXSwgIi0iKSA9PSAwKSl7CmZwcmludGYoc3RkZXJyLCAiJXM6IG5vIGlucHV0IGZpbGUgc3BlY2lmaWVkXG4iLCBhcmd2WzBdKTsKdXNhZ2UoYXJndik7CmV4aXQoLTEpOwp9CgppZih2ZXJib3NlKXByaW50ZigiWytdIE9wZW5pbmcgJXMuLi4iLCBhcmd2W29wdGluZF0pOwppZigoaW5maWxlID0gZm9wZW4oYXJndltvcHRpbmRdLCAiciIpKSA9PSAwKXsKaWYodmVyYm9zZSlwcmludGYoImZhaWxlZFxuIik7CmZwcmludGYoc3RkZXJyLCIlczogY291bGQgbm90IG9wZW4gJXNcbiIsIGFyZ3ZbMF0sIGFyZ3Zbb3B0aW5kXSk7CmV4aXQoLTEpOwp9CmlmKHZlcmJvc2UpcHJpbnRmKCJPa1xuIik7CgppZighY19vdXRwdXRfbmFtZSkKY19vdXRwdXRfbmFtZSA9ICJiZi5vdXQuYyI7CgppZighb3V0cHV0X25hbWUpCm91dHB1dF9uYW1lID0gImJmLm91dCI7CgppZih2ZXJib3NlKXByaW50ZigiWytdIE9wZW5pbmcgdGhlIG91dHB1dCBmaWxlLi4uIik7CmlmKChvdXRmaWxlID0gZm9wZW4oY19vdXRwdXRfbmFtZSwgInciKSkgPT0gMCl7CmlmKHZlcmJvc2UpcHJpbnRmKCJmYWlsZWRcbiIpOwpmcHJpbnRmKHN0ZGVyciwgIiVzOiBlcnJvciBvcGVuaW5nIG91dHB1dCBmaWxlICVzXG4iLCBhcmd2WzBdLApjX291dHB1dF9uYW1lKTsKZXhpdCgtMSk7Cn0KaWYodmVyYm9zZSlwcmludGYoIk9rXG4iKTsKCmlmKHZlcmJvc2UpcHJpbnRmKCJbK10gR2VuZXJhdGluZyBDIHNvdXJjZS4uLiIpOwpnZW5lcmF0ZShjX291dHB1dF9uYW1lKTsKaWYodmVyYm9zZSlwcmludGYoIk9rXG4iKTsKZmNsb3NlKG91dGZpbGUpOwovKnN0cmNhdChjb21waWxlX29wdHMsICIvdXNyL2Jpbi9nY2MiKTsqLwpzdHJjYXQoY29tcGlsZV9vcHRzLCAiIC1vICIpOwpzdHJjYXQoY29tcGlsZV9vcHRzLCBvdXRwdXRfbmFtZSk7CnN0cmNhdChjb21waWxlX29wdHMsICIgIik7CnN0cmNhdChjb21waWxlX29wdHMsIGNfb3V0cHV0X25hbWUpOwoKaWYoIW5vX2NvbXBpbGUpewppZih2ZXJib3NlKXsKcHJpbnRmKCJbK10gQ29tcGlsaW5nLi4uXG4iKTsKcHJpbnRmKCJDb21waWxlcjogIiBDQyAiXG4iKTsKcHJpbnRmKCJDb21waWxlIE9wdGlvbnM6ICVzXG4iLCBjb21waWxlX29wdHMpOwp9CnN5c3RlbShjb21waWxlX29wdHMpOwppZih2ZXJib3NlKXByaW50ZigiQ29tcGlsaW5nIENvbXBsZXRlXG4iKTsKfQoKaWYoIWtlZXBfZmlsZSl7CmlmKHZlcmJvc2UpcHJpbnRmKCJbK10gRGVsZXRpbmcgaW50ZXJtZWRpYXRlIGZpbGUgJXMuLi4iLCBjX291dHB1dF9uYW1lKTsKdW5saW5rKGNfb3V0cHV0X25hbWUpOwppZih2ZXJib3NlKXByaW50ZigiT2tcbiIpOwp9CmVsc2UKaWYodmVyYm9zZSlwcmludGYoIlsrXSBLZWVwaW5nIGludGVybWVkaWF0ZSBmaWxlICVzLi4uT2tcbiIsCmNfb3V0cHV0X25hbWUpOwoKZmNsb3NlKGluZmlsZSk7CnJldHVybigwKTsKfQoKdm9pZCBnZW5lcmF0ZShjaGFyICpjX291dHB1dF9uYW1lKXsKY2hhciBjOwoKZnByaW50ZihvdXRmaWxlLCAiLypcbiAqIFRoaXMgc291cmNlIHdhcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCB3aXRoIik7CmZwcmludGYob3V0ZmlsZSwgIlxuICogb2JmYyAtIFRoZSBcImJyYWluZnVjayBjb21waWxlclwiLiIpOwpmcHJpbnRmKG91dGZpbGUsICJcbiAqIGthdGllICIpOwpmcHJpbnRmKG91dGZpbGUsICJcbiAqIFxuICovXG4iKTsKZnByaW50ZihvdXRmaWxlLCAiI2luY2x1ZGUgXG4iKTsKZnByaW50ZihvdXRmaWxlLCAibWFpbigpIHtcbmNoYXIgYVszMDAwMF0sKnB0cj1hO1xuIik7Cgp3aGlsZSgoYz1mZ2V0YyhpbmZpbGUpKSAhPSBFT0Ypewpzd2l0Y2goYyl7CmNhc2UgJz4nOiBmcHJpbnRmKG91dGZpbGUsICJwdHIrKztcbiIpOyBicmVhazsKY2FzZSAnPCc6IGZwcmludGYob3V0ZmlsZSwgInB0ci0tO1xuIik7IGJyZWFrOwpjYXNlICcrJzogZnByaW50ZihvdXRmaWxlLCAiKysqcHRyO1xuIik7IGJyZWFrOwpjYXNlICctJzogZnByaW50ZihvdXRmaWxlLCAiLS0qcHRyO1xuIik7IGJyZWFrOwpjYXNlICdbJzogZnByaW50ZihvdXRmaWxlLCAid2hpbGUoKnB0cil7XG4iKTsgYnJlYWs7CmNhc2UgJ10nOiBmcHJpbnRmKG91dGZpbGUsICJ9XG4iKTsgYnJlYWs7CmNhc2UgJy4nOiBmcHJpbnRmKG91dGZpbGUsICJwdXRjaGFyKCpwdHIpO1xuIik7IGJyZWFrOwpjYXNlICcsJzogZnByaW50ZihvdXRmaWxlLCAiKnB0cj1nZXRjaGFyKCk7XG4iKTsgYnJlYWs7Cn0KfQpmcHJpbnRmKG91dGZpbGUsImV4aXQoMCk7XG59XG4iKTsKfQoKCgp2b2lkIHVzYWdlIChjaGFyICphcmd2W10pewoKcHJpbnRmKCJvYmZjIC0gdGhlIFwiYnJhaW5mdWNrIGNvbXBpbGVyXCJcbiIpOwpwcmludGYoImJ5IGthdGllIDxrYXRpZUByb2FjaGhkLmNvbVxuIik7CnByaW50ZigiXG4iKTsKcHJpbnRmKCJVc2FnZTogJXMgW09QVElPTlNdIFtGSUxFXVxuIixhcmd2WzBdKTsKcHJpbnRmKCJBdmFpbGFibGUgT3B0aW9uczpcbiIpOwpwcmludGYoIlx0LW8gb3V0ZmlsZVx0c3BlY2lmeSBvdXRwdXQgZmlsZSBuYW1lXG4iKTsKcHJpbnRmKCJcdC1rXHRcdGtlZXAgdGhlIGdlbmVyYXRlZCBDIHNvdXJjZSAobm9ybWFsbHkgYmYub3V0LmMpXG4iKTsKcHJpbnRmKCJcdC1jIGNfb3V0ZmlsZVx0c3BlY2lmeSBDIHNvdXJjZSBmaWxlIG5hbWUuIE9ubHkgdXNlZCBvcHRpb24tXG4iKTsKcHJpbnRmKCJcdFx0XHRhbGx5IGluIGNvbmp1bmN0aW9uIHdpdGggLWsgb3B0aW9uXG4iKTsKcHJpbnRmKCJcdC1uXHRcdERvbid0IGNvbXBpbGUgdGhlIEMgc291cmNlLCBqdXN0IG91dHB1dCBhIGNvcHkgb2YgaXRcbiIpOwpwcmludGYoIlx0LXZcdFx0dmVyYm9zZSBvdXRwdXRcbiIpOwpwcmludGYoIlx0LWhcdFx0ZGlzcGxheSBoZWxwXG4iKTsKfQpgYGAKCioqSGVyZSBpcyBhbiBpbnRlcnByZXRlciB0aGF0IGkgd3JvdGUgaW4gQnJhaW5GdWNrKiouCgpgYGBicmFpbmZ1Y2sKWy8qIGJmMmMuYgoqIFRoZSBCcmFpbmZ1Y2sgdG8gQyBpbnRlcnByZXRvcgoqIEthdGllIGJhbGwKKgoqIE5PVEU6IFRoaXMgd2FzIHJ1c2hlZCBhbmQgY3VycmVudGx5CiogaXQgZG9lcyBub3QgdGFrZSB3ZWxsIHRvIGFueSBjaGFyYWN0ZXJzIG9mIGlucHV0IGJlc2lkZXMKKiB0aGUgOCBzdGFuZGFyZCBicmFpbmZ1Y2sgb3BlcmF0b3JzIGFuZCBuZXdsaW5lIGFuZCBFT0YuCiogU28gY29uc2VxdWVudGx5LCBpdCB3aWxsIG9ubHkgaW50ZXJwcmV0IHVuLWNvbW1lbnRlZCBjb2RlLgoqIENoZWNrIG15IHdlYiBzaXRlIGZvciBhIGxhdGVyIHJlbGVhc2UKKiB0aGF0IHdpbGwgcHJvYmFibHkgaGF2ZSBzdXBwb3J0IGZvciBjb21tZW50ZWQgY29kZS4KKi9dCgoKPisrKysrWz4rKysrKysrPC1dPi48PCsrWz4rKysrK1s+KysrKysrKzwtXTwtXT4+LisrKysrLjwrK1s+LS0tLS08LV0+LS48KysKWz4rKysrPC1dPisuPCsrWz4rKysrPC1dPisuWz4rPis+Kzw8PC1dPj4+Wzw8PCs+Pj4tXTw8PDw8KytbPisrK1s+LS0tPC1dPC0KXT4+Ky4rLjwrKysrKysrWz4tLS0tLS0tLS0tPC1dPisuPCsrKytbPisrKysrKys8LV0+Lj4uLS0tLS0tLS4tLS0tLS48PCsrWz4KPisrKysrPDwtXT4+LisuLS0tLS0tLS0tLS0tLS0tLS48PCsrWz4tLS0tLS0tPC1dPi4+KysrKy48PCsrWz4rKysrKysrKzwtXT4KLjwrKysrKysrKysrWz4+Pi0tLS0tLS0tLS0tPDw8LV0+Pj4rKysuPC0tLS0tLisrKysrLi0tLS0tLS0uPDwrK1s+PisrKysrKysKKzw8LV0+PisuPDwrKytbPi0tLS0tLS0tLS08LV0+LjwrK1s+Pi0tLS0tLS0tPDwtXT4+LS4tLS0tLS0uPDwrK1s+KysrKysrKysKPC1dPisrKy4tLS0uLi4uPisrLjwtLS0tLi0tLjwrK1s+PisrKysrKysrKzw8LV0+PisuPDwrK1s+KysrKysrKysrPC1dPisuPCsKK1s+Pi0tLS0tLS08PC1dPj4tLjwtLS4+Pi48PDwrKytbPj4rKysrPDwtXT4+Ljw8KysrWz4+LS0tLTw8LV0+Pi4rKysrKysrKy4KKysrKysuPDwrK1s+LS0tLS0tLS0tPC1dPi0uKy4+Pi48PDwrK1s+PisrKysrKys8PC1dPj4tLj4uPj4+Wy1dPj5bLV08K1s8PFsKLV0sWz4+Pj4+Pj4+Pj4+Pj4rPis8PDw8PDw8PDw8PDw8PC1dPj4+Pj4+Pj4+Pj4+Pj5bPDw8PDw8PDw8PDw8PDwrPj4+Pj4+Pj4KPj4+Pj4+LV08PCs+Wy1bLVstWy1bLVstWy1bLVstWy1bLVstWy1bLVstWy1bLVstWy1bLVstWy1bLVstWy1bLVstWy1bLVstWy0KWy1bLVstWy1bLVstWy1bLVstWy1bLVs8LT5bLV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dPFsKPDw8PDw8PDw8PDw8Wy1dPj4+Pj4+Pj4+Pj4+Wy1dXTw8PDw8PDw8PDw8PFs8KysrKytbPi0tLS0tLS0tLTwtXT4rK1s+XT4+Wz4KKysrKytbPisrKysrKysrKzwtXT4tLS4uLS48KysrKysrK1s+KysrKysrKysrKzwtXT4uPCsrKysrKysrKysrWz4tLS0tLTwtXT4KKysuPDw8PDw8Lj4+Pj4+PlstXTxdPDw8Wy1bPl0+Pls+KysrKysrWz4rKytbPisrKysrKzwtXTwtXT4+KysrKysrLi0tLS0tLS0KLS0tLS0tLi0tLS0uKysrLjwrKysrKytbPi0tLS0tLS0tLS08LV0+LisrKysrKysrLi0tLS0uPCsrKytbPisrKysrKysrKysrKysKKysrKzwtXT4uPCsrKytbPi0tLS0tLS0tLS0tLS0tLS0tPC1dPi4rKysrKy4tLS0tLS0tLS48KytbPisrKysrKysrKzwtXT4uWy0KXTw8PDw8PDwuPj4+Pj5dPDw8Wy1bPl0+Pls+KysrKytbPisrKysrKysrKzwtXT4uLi0tLS48KysrKysrK1s+KysrKysrKysrKzwKLV0+LjwrKysrKysrKysrK1s+LS0tLS08LV0+KysuPDw8PDw8Lj4+Pj4+PlstXTxdPDw8Wy1bPl0+Pls+KysrWz4rKysrWz4rKysKKysrKysrKzwtXTwtXT4+LS4tLS0tLS4tLS0tLS0tLS0uPCsrWz4rKysrKys8LV0+LS48KysrWz4tLS0tLTwtXT4uPCsrKysrK1sKPi0tLS0tLS0tLS08LV0+LS48KysrWz4rKys8LV0+Li0tLS0tLjwrKysrWz4rKysrKysrKysrKysrKysrKzwtXT4uPCsrKytbPi0KLS0tLS0tLS0tLS0tLS0tLTwtXT4uKysrKysuLS0tLS0tLS0uPCsrWz4rKysrKysrKys8LV0+LlstXTw8PDw8PDwuPj4+Pj5dPDwKPFs8KysrWz4tLS0tLTwtXT4rWz5dPj5bPisrKysrWz4rKysrKysrKys8LV0+Li48KysrKysrK1s+KysrKysrKysrKzwtXT4tLS0KLjwrKysrK1s+LS0tLS0tLS0tLTwtXT4tLS0uPDw8PDw8Lj4+Pj4+PlstXTxdPDw8Wy0tWz5dPj5bPisrKysrWz4rKysrKysrKysKPC1dPi0tLi48KysrKysrK1s+KysrKysrKysrKzwtXT4tLjwrKysrK1s+LS0tLS0tLS0tLTwtXT4tLS0uWy1dPDw8PDw8Lj4+Pj4KPl08PDxbPCsrK1s+LS0tLS0tLS0tLTwtXT4rWz5dPj5bPisrK1s+KysrK1s+KysrKysrKysrKzwtXTwtXT4+LS48KysrWz4tLS0KLS08LV0+LisuKysrLi0tLS0tLS0uPCsrKysrK1s+LS0tLS0tLS0tLTwtXT4tLisrLjwrKysrKysrWz4rKysrKysrKysrPC1dPi4KPCsrKysrKytbPi0tLS0tLS0tLS08LV0+LS48KysrKysrKytbPisrKysrKysrKys8LV0+KysuWy1dPDw8PDw8PC4+Pj4+Pl08PDwKWy0tWz5dPj5bPisrKysrWz4rKysrK1s+KysrKys8LV08LV0+Pi5bLV08PDw8PDw8Lj4+Pj4+XTw8PFs8KysrKysrKysrK1s+LS0KLS0tLS0tLS0tLS0tLS08LV0+LS1bPl0+Pls8PDw8Wy1dXV1dXV1dXV1dXT4+XTwrK1s+KysrKytbPisrKysrKysrKys8LV08LV0KPj4rLjwrKytbPisrKysrKzwtXT4rLjwrKytbPi0tLS0tPC1dPi4rKysrKysrKysrKy48KysrKysrK1s+LS0tLS0tLS0tLTwtXT4KLS0tLS0tLisrKysrKysrLi0tLS0tLS0uPCsrK1s+KysrKysrPC1dPi48KysrKysrWz4rKysrKysrKysrKzwtXT4uPCsrKysrKysKKysrLgpgYGAKCi0tLQoKQW5kIGxhc3RseSwgaGVyZSBpcyBhIEJyYWluRnVjayBjb21waWxlciB3cml0dGVuIGluIHg4NiBhc3NlbWJseSBieQpCcmlhbiBSYWl0ZXIKCmBgYGFzc2VtYmx5Cjs7IGJmLmFzbTogQ29weXJpZ2h0IChDKSAxOTk5LTIwMDEgYnkgQnJpYW4gUmFpdGVyLCB1bmRlciB0aGUgR05VCjs7IEdlbmVyYWwgUHVibGljIExpY2Vuc2UgKHZlcnNpb24gMiBvciBsYXRlcikuIE5vIHdhcnJhbnR5Lgo7Owo7OyBUbyBidWlsZDoKOztuYXNtIC1mIGJpbiAtbyBiZiBiZi5hc20gJiYgY2htb2QgK3ggYmYKOzsgVG8gdXNlOgo7O2JmIDwgZm9vLmIgPiBmb28gJiYgY2htb2QgK3ggZm9vCgpCSVRTIDMyCgo7OyBUaGlzIGlzIHRoZSBzaXplIG9mIHRoZSBkYXRhIGFyZWEgc3VwcGxpZWQgdG8gY29tcGlsZWQgcHJvZ3JhbXMuCgolZGVmaW5lIGFycmF5c2l6ZTMwMDAwCgo7OyBGb3IgdGhlIGNvbXBpbGVyLCB0aGUgdGV4dCBzZWdtZW50IGlzIGFsc28gdGhlIGRhdGEgc2VnbWVudC4gVGhlCjs7IG1lbW9yeSBpbWFnZSBvZiB0aGUgY29tcGlsZXIgaXMgaW5zaWRlIHRoZSBjb2RlIGJ1ZmZlciwgYW5kIGlzCjs7IG1vZGlmaWVkIGluIHBsYWNlIHRvIGJlY29tZSB0aGUgbWVtb3J5IGltYWdlIG9mIHRoZSBjb21waWxlZAo7OyBwcm9ncmFtLiBUaGUgYXJlYSBvZiBtZW1vcnkgdGhhdCBpcyB0aGUgZGF0YSBzZWdtZW50IGZvciBjb21waWxlZAo7OyBwcm9ncmFtcyBpcyBub3QgdXNlZCBieSB0aGUgY29tcGlsZXIuIFRoZSB0ZXh0IGFuZCBkYXRhIHNlZ21lbnRzIG9mCjs7IGNvbXBpbGVkIHByb2dyYW1zIGFyZSByZWFsbHkgb25seSBkaWZmZXJlbnQgYXJlYXMgaW4gYSBzaW5nbGUKOzsgc2VnbWVudCwgZnJvbSB0aGUgc3lzdGVtJ3MgcG9pbnQgb2Ygdmlldy4gQm90aCB0aGUgY29tcGlsZXIgYW5kCjs7IGNvbXBpbGVkIHByb2dyYW1zIGxvYWQgdGhlIGVudGlyZSBmaWxlIGNvbnRlbnRzIGludG8gYSBzaW5nbGUKOzsgbWVtb3J5IHNlZ21lbnQgd2hpY2ggaXMgYm90aCB3cml0YWJsZSBhbmQgZXhlY3V0YWJsZS4KCiVkZWZpbmVURVhUT1JHMHg0NUU5QjAwMAolZGVmaW5lREFUQU9GRlNFVDB4MjAwMAolZGVmaW5lREFUQU9SRyhURVhUT1JHICsgREFUQU9GRlNFVCkKCjs7IEhlcmUgYmVnaW5zIHRoZSBmaWxlIGltYWdlLgoKb3JnVEVYVE9SRwoKOzsgQXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgdGV4dCBzZWdtZW50IGlzIHRoZSBFTEYgaGVhZGVyIGFuZCB0aGUKOzsgcHJvZ3JhbSBoZWFkZXIgdGFibGUsIHRoZSBsYXR0ZXIgY29uc2lzdGluZyBvZiBhIHNpbmdsZSBlbnRyeS4gVGhlCjs7IHR3byBzdHJ1Y3R1cmVzIG92ZXJsYXAgZm9yIGEgc3BhY2Ugb2YgZWlnaHQgYnl0ZXMuIE5lYXJseSBhbGwKOzsgdW51c2VkIGZpZWxkcyBpbiB0aGUgc3RydWN0dXJlcyBhcmUgdXNlZCB0byBob2xkIGJpdHMgb2YgY29kZS4KCjs7IFRoZSBiZWdpbm5pbmcgb2YgdGhlIEVMRiBoZWFkZXIuCgpkYjB4N0YsICJFTEYiOyBlaGRyLmVfaWRlbnQKCjs7IFRoZSB0b3Aocykgb2YgdGhlIG1haW4gY29tcGlsaW5nIGxvb3AuIFRoZSBsb29wIGp1bXBzIGJhY2sgdG8KOzsgZGlmZmVyZW50IHBvc2l0aW9ucywgZGVwZW5kaW5nIG9uIGhvdyBtYW55IGJ5dGVzIHRvIGNvcHkgaW50byB0aGUKOzsgY29kZSBidWZmZXIuIEFmdGVyIGRvaW5nIHRoYXQsIGVzaSBpcyBpbml0aWFsaXplZCB0byBwb2ludCB0byB0aGUKOzsgZXBpbG9nIGNvZGUgY2h1bmssIGEgY29weSBvZiBlZGkgKHRoZSBwb2ludGVyIHRvIHRoZSBlbmQgb2YgdGhlCjs7IGNvZGUgYnVmZmVyKSBpcyBzYXZlZCBpbiBlYnAsIHRoZSBoaWdoIGJ5dGVzIG9mIGVheCBhcmUgcmVzZXQgdG8KOzsgemVybyAodmlhIHRoZSBleGNoYW5nZSB3aXRoIGVieCksIGFuZCB0aGVuIHRoZSBuZXh0IGNoYXJhY3RlciBvZgo7OyBpbnB1dCBpcyByZXRyaWV2ZWQuCgplbWl0cHV0Y2hhcjphZGRlc2ksIGJ5dGUgKHB1dGNoYXIgLSBkZWNjaGFyKSAtIDQKZW1pdGdldGNoYXI6bG9kc2QKZW1pdDZieXRlczptb3ZzZAplbWl0MmJ5dGVzOm1vdnNiCmVtaXQxYnl0ZTptb3ZzYgpjb21waWxlOmxlYWVzaSwgW2J5dGUgZWN4ICsgZXBpbG9nIC0gZmlsZXNpemVdCnhjaGdlYXgsIGVieApjbXBlYXgsIDB4MDAwMzAwMDI7IGVoZHIuZV90eXBlICgweDAwMDIpCjsgZWhkci5lX21hY2hpbmUgKDB4MDAwMykKbW92ZWJwLCBlZGk7IGVoZHIuZV92ZXJzaW9uCmptcHNob3J0IGdldGNoYXIKCjs7IFRoZSBlbnRyeSBwb2ludCBmb3IgdGhlIGNvbXBpbGVyIChhbmQgY29tcGlsZWQgcHJvZ3JhbXMpLCBhbmQgdGhlCjs7IGxvY2F0aW9uIG9mIHRoZSBwcm9ncmFtIGhlYWRlciB0YWJsZS4KCmRkX3N0YXJ0OyBlaGRyLmVfZW50cnkKZGRwcm9naGRyIC0gJCQ7IGVoZHIuZV9waG9mZgoKOzsgVGhlIGxhc3Qgcm91dGluZSBvZiB0aGUgY29tcGlsZXIsIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIG1vcmUKOzsgaW5wdXQuIFRoZSBlcGlsb2cgY29kZSBjaHVuayBpcyBjb3BpZWQgaW50byB0aGUgY29kZSBidWZmZXIuIFRoZQo7OyB0ZXh0IG9yaWdpbiBpcyBwb3BwZWQgb2ZmIHRoZSBzdGFjayBpbnRvIGVjeCwgYW5kIHN1YnRyYWN0ZWQgZnJvbQo7OyBlZGkgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBjb21waWxlZCBwcm9ncmFtLiBUaGlzIHZhbHVlIGlzCjs7IHN0b3JlZCBpbiB0aGUgcHJvZ3JhbSBoZWFkZXIgdGFibGUsIGFuZCB0aGVuIGlzIG1vdmVkIGludG8gZWR4Lgo7OyBUaGUgcHJvZ3JhbSB0aGVuIGp1bXBzIHRvIHRoZSBwdXRjaGFyIHJvdXRpbmUsIHdoaWNoIHNlbmRzIHRoZQo7OyBjb21waWxlZCBwcm9ncmFtIHRvIHN0ZG91dCBiZWZvcmUgZmFsbGluZyB0aHJvdWdoIHRvIHRoZSBlcGlsb2cKOzsgcm91dGluZSBhbmQgZXhpdGluZy4KCmVvZjptb3ZzZDsgZWhkci5lX3Nob2ZmCnhjaGdlYXgsIGVjeApwb3BlY3gKc3ViZWRpLCBlY3g7IGVoZHIuZV9mbGFncwp4Y2hnZWF4LCBlZGkKc3Rvc2QKeGNoZ2VheCwgZWR4CmptcHNob3J0IHB1dGNoYXI7IGVoZHIuZV9laHNpemUKCjs7IDB4MjAgPT0gdGhlIHNpemUgb2Ygb25lIHByb2dyYW0gaGVhZGVyIHRhYmxlIGVudHJ5LgoKZHcweDIwOyBlaGRyLmVfcGhlbnRzaXplCgo7OyBUaGUgYmVnaW5uaW5nIG9mIHRoZSBwcm9ncmFtIGhlYWRlciB0YWJsZS4gMSA9PSBQVF9MT0FELCBpbmRpY2F0aW5nCjs7IHRoYXQgdGhlIHNlZ21lbnQgaXMgdG8gYmUgbG9hZGVkIGludG8gbWVtb3J5LgoKcHJvZ2hkcjpkZDE7IGVoZHIuZV9waG51bSAmIHBoZHIucF90eXBlCjsgZWhkci5lX3NoZW50c2l6ZQpkZDA7IGVoZHIuZV9zaG51bSAmIHBoZHIucF9vZmZzZXQKOyBlaGRyLmVfc2hzdHJuZHgKCjs7IChOb3RlIHRoYXQgdGhlIG5leHQgZm91ciBieXRlcywgaW4gYWRkaXRpb24gdG8gY29udGFpbmluZyB0aGUgZmlyc3QKOzsgdHdvIGluc3RydWN0aW9ucyBvZiB0aGUgYnJhY2tldCByb3V0aW5lLCBhbHNvIGNvbXByaXNlIHRoZSBtZW1vcnkKOzsgYWRkcmVzcyBvZiB0aGUgdGV4dCBvcmlnaW4uKQoKZGIwOyBwaGRyLnBfdmFkZHIKCjs7IFRoZSBicmFja2V0IHJvdXRpbmUgZW1pdHMgY29kZSBmb3IgdGhlICJbIiBpbnN0cnVjdGlvbi4gVGhpcwo7OyBpbnN0cnVjdGlvbiB0cmFuc2xhdGVzIHRvIGEgc2ltcGxlICJqbXAgbmVhciIsIGJ1dCB0aGUgdGFyZ2V0IG9mCjs7IHRoZSBqdW1wIHdpbGwgbm90IGJlIGtub3duIHVudGlsIHRoZSBtYXRjaGluZyAiXSIgaXMgc2Vlbi4gVGhlCjs7IHJvdXRpbmUgdGh1cyBvdXRwdXRzIGEgcmFuZG9tIHRhcmdldCwgYW5kIHB1c2hlcyB0aGUgbG9jYXRpb24gb2YKOzsgdGhlIHRhcmdldCBpbiB0aGUgY29kZSBidWZmZXIgb250byB0aGUgc3RhY2suCgpicmFja2V0Om1vdmFsLCAweEU5CmluY2VicApwdXNoZWJwOyBwaGRyLnBfcGFkZHIKc3Rvc2QKam1wc2hvcnQgZW1pdDFieXRlCgo7OyBUaGlzIGlzIHdoZXJlIHRoZSBzaXplIG9mIHRoZSBleGVjdXRhYmxlIGZpbGUgaXMgc3RvcmVkIGluIHRoZQo7OyBwcm9ncmFtIGhlYWRlciB0YWJsZS4gVGhlIGNvbXBpbGVyIHVwZGF0ZXMgdGhpcyB2YWx1ZSBqdXN0IGJlZm9yZQo7OyBpdCBvdXRwdXRzIHRoZSBjb21waWxlZCBwcm9ncmFtLiBUaGlzIGlzIHRoZSBvbmx5IGZpZWxkIGluIHRoZSB0d28KOzsgaGVhZGVycyB0aGF0IGRpZmZlcnMgYmV0d2VlbiB0aGUgY29tcGlsZXIgYW5kIGl0cyBjb21waWxlZAo7OyBwcm9ncmFtcy4gKFdoaWxlIHRoZSBjb21waWxlciBpcyByZWFkaW5nIGlucHV0LCB0aGUgZmlyc3QgYnl0ZSBvZgo7OyB0aGlzIGZpZWxkIGlzIGFsc28gdXNlZCBhcyBhbiBpbnB1dCBidWZmZXIuKQoKZmlsZXNpemU6ZGRjb21waWxlcnNpemU7IHBoZHIucF9maWxlc3oKCjs7IFRoZSBzaXplIG9mIHRoZSBwcm9ncmFtIGluIG1lbW9yeS4gVGhpcyBlbnRyeSBjcmVhdGVzIGFuIGFyZWEgb2YKOzsgYnl0ZXMsIGFycmF5c2l6ZSBpbiBzaXplLCBhbGwgaW5pdGlhbGl6ZWQgdG8gemVybywgc3RhcnRpbmcgYXQKOzsgREFUQU9SRy4KCmRkREFUQU9GRlNFVCArIGFycmF5c2l6ZTsgcGhkci5wX21lbXN6Cgo7OyBUaGUgY29kZSBjaHVuayBmb3IgdGhlICIuIiBpbnN0cnVjdGlvbi4gZWF4IGlzIHNldCB0byA0IHRvIGludm9rZQo7OyB0aGUgd3JpdGUgc3lzdGVtIGNhbGwuIGVieCwgdGhlIGZpbGUgaGFuZGxlIHRvIHdyaXRlIHRvLCBpcyBzZXQgdG8KOzsgMSBmb3Igc3Rkb3V0LiBlY3ggcG9pbnRzIHRvIHRoZSBidWZmZXIgY29udGFpbmluZyB0aGUgYnl0ZXMgdG8KOzsgb3V0cHV0LCBhbmQgZWR4IGVxdWFscyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRvIG91dHB1dC4gKE5vdGUgdGhhdAo7OyB0aGUgZmlyc3QgYnl0ZSBvZiB0aGUgZmlyc3QgaW5zdHJ1Y3Rpb24sIHdoaWNoIGlzIGFsc28gdGhlIGxlYXN0Cjs7IHNpZ25pZmljYW50IGJ5dGUgb2YgdGhlIHBfZmxhZ3MgZmllbGQsIGVuY29kZXMgdG8gMHhCMy4gSGF2aW5nIHRoZQo7OyAyLWJpdCBzZXQgbWFya3MgdGhlIG1lbW9yeSBjb250YWluaW5nIHRoZSBjb21waWxlciwgYW5kIGl0cwo7OyBjb21waWxlZCBwcm9ncmFtcywgYXMgd3JpdGVhYmxlLikKCnB1dGNoYXI6bW92YmwsIDE7IHBoZHIucF9mbGFncwptb3ZhbCwgNAppbnQweDgwOyBwaGRyLnBfYWxpZ24KCjs7IFRoZSBlcGlsb2cgY29kZSBjaHVuay4gQWZ0ZXIgcmVzdG9yaW5nIHRoZSBpbml0aWFsaXplZCByZWdpc3RlcnMsCjs7IGVheCBhbmQgZWJ4IGFyZSBib3RoIHplcm8uIGVheCBpcyBpbmNyZW1lbnRlZCB0byAxLCBzbyBhcyB0byBpbnZva2UKOzsgdGhlIGV4aXQgc3lzdGVtIGNhbGwuIGVieCBzcGVjaWZpZXMgdGhlIHByb2Nlc3MncyByZXR1cm4gdmFsdWUuCgplcGlsb2c6cG9wYQppbmNlYXgKaW50MHg4MAoKOzsgVGhlIGNvZGUgY2h1bmtzIGZvciB0aGUgIj4iLCAiPCIsICIrIiwgYW5kICItIiBpbnN0cnVjdGlvbnMuCgppbmNwdHI6aW5jZWN4CmRlY3B0cjpkZWNlY3gKaW5jY2hhcjppbmNieXRlIFtlY3hdCmRlY2NoYXI6ZGVjYnl0ZSBbZWN4XQoKOzsgVGhlIG1haW4gbG9vcCBvZiB0aGUgY29tcGlsZXIgY29udGludWVzIGhlcmUsIGJ5IG9idGFpbmluZyB0aGUgbmV4dAo7OyBjaGFyYWN0ZXIgb2YgaW5wdXQuIFRoaXMgaXMgYWxzbyB0aGUgY29kZSBjaHVuayBmb3IgdGhlICIsIgo7OyBpbnN0cnVjdGlvbi4gZWF4IGlzIHNldCB0byAzIHRvIGludm9rZSB0aGUgcmVhZCBzeXN0ZW0gY2FsbC4gZWJ4LAo7OyB0aGUgZmlsZSBoYW5kbGUgdG8gcmVhZCBmcm9tLCBpcyBzZXQgdG8gMCBmb3Igc3RkaW4uIGVjeCBwb2ludHMgdG8KOzsgYSBidWZmZXIgdG8gcmVjZWl2ZSB0aGUgYnl0ZXMgdGhhdCBhcmUgcmVhZCwgYW5kIGVkeCBlcXVhbHMgdGhlCjs7IG51bWJlciBvZiBieXRlcyB0byByZWFkLgoKZ2V0Y2hhcjptb3ZhbCwgMwp4b3JlYngsIGVieAppbnQweDgwCgo7OyBJZiBlYXggaXMgemVybyBvciBuZWdhdGl2ZSwgdGhlbiB0aGVyZSBpcyBubyBtb3JlIGlucHV0LCBhbmQgdGhlCjs7IGNvbXBpbGVyIHByb2NlZWRzIHRvIHRoZSBlb2Ygcm91dGluZS4KCm9yZWF4LCBlYXgKamxlZW9mCgo7OyBPdGhlcndpc2UsIGVzaSBpcyBhZHZhbmNlZCBmb3VyIGJ5dGVzIChmcm9tIHRoZSBlcGlsb2cgY29kZSBjaHVuawo7OyB0byB0aGUgaW5jcHRyIGNvZGUgY2h1bmspLCBhbmQgdGhlIGNoYXJhY3RlciByZWFkIGZyb20gdGhlIGlucHV0IGlzCjs7IHN0b3JlZCBpbiBhbCwgd2l0aCB0aGUgaGlnaCBieXRlcyBvZiBlYXggcmVzZXQgdG8gemVyby4KCmxvZHNkCm1vdmVheCwgW2VjeF0KCjs7IFRoZSBjb21waWxlciBjb21wYXJlcyB0aGUgaW5wdXQgY2hhcmFjdGVyIHdpdGggIj4iIGFuZCAiPCIuIGVzaSBpcwo7OyBhZHZhbmNlZCB0byB0aGUgbmV4dCBjb2RlIGNodW5rIHdpdGggZWFjaCBmYWlsZWQgdGVzdC4KCmNtcGFsLCAnPicKanplbWl0MWJ5dGUKaW5jZXNpCmNtcGFsLCAnPCcKanplbWl0MWJ5dGUKaW5jZXNpCgo7OyBUaGUgbmV4dCBmb3VyIHRlc3RzIGNoZWNrIGZvciB0aGUgY2hhcmFjdGVycyAiKyIsICIsIiwgIi0iLCBhbmQKOzsgIi4iLCByZXNwZWN0aXZlbHkuIFRoZXNlIGZvdXIgY2hhcmFjdGVycyBhcmUgY29udGlndW91cyBpbiBBU0NJSSwKOzsgYW5kIHNvIGFyZSB0ZXN0ZWQgZm9yIGJ5IGRvaW5nIHN1Y2Nlc3NpdmUgZGVjcmVtZW50cyBvZiBlYXguCgpzdWJhbCwgJysnCmp6ZW1pdDJieXRlcwpkZWNlYXgKanplbWl0Z2V0Y2hhcgppbmNlc2kKaW5jZXNpCmRlY2VheApqemVtaXQyYnl0ZXMKZGVjZWF4Cmp6ZW1pdHB1dGNoYXIKCjs7IFRoZSByZW1haW5pbmcgaW5zdHJ1Y3Rpb25zLCAiWyIgYW5kICJdIiwgaGF2ZSBzcGVjaWFsIHJvdXRpbmVzIGZvcgo7OyBlbWl0dGluZyB0aGUgcHJvcGVyIGNvZGUuIChOb3RlIHRoYXQgdGhlIGp1bXAgYmFjayB0byB0aGUgbWFpbiBsb29wCjs7IGlzIGF0IHRoZSBlZGdlIG9mIHRoZSBzaG9ydC1qdW1wIHJhbmdlLiBSb3V0aW5lcyBiZWxvdyBoZXJlCjs7IHRoZXJlZm9yZSB1c2UgdGhpcyBqdW1wIGFzIGEgcmVsYXkgdG8gcmV0dXJuIHRvIHRoZSBtYWluIGxvb3A7Cjs7IGhvd2V2ZXIsIGluIG9yZGVyIHRvIHVzZSBpdCBjb3JyZWN0bHksIHRoZSByb3V0aW5lcyBtdXN0IGJlIHN1cmUKOzsgdGhhdCB0aGUgemVybyBmbGFnIGlzIGNsZWFyZWQgYXQgdGhlIHRpbWUuKQoKY21wYWwsICdbJyAtICcuJwpqemJyYWNrZXQKY21wYWwsICddJyAtICcuJwpyZWxheTpqbnpjb21waWxlCgo7OyBUaGUgZW5kYnJhY2tldCByb3V0aW5lIGVtaXRzIGNvZGUgZm9yIHRoZSAiXSIgaW5zdHJ1Y3Rpb24sIGFzIHdlbGwKOzsgYXMgY29tcGxldGluZyB0aGUgY29kZSBmb3IgdGhlIG1hdGNoaW5nICJbIi4gVGhlIGNvbXBpbGVyIGZpcnN0Cjs7IGVtaXRzICJjbXAgZGgsIFtlY3hdIiBhbmQgdGhlIGZpcnN0IHR3byBieXRlcyBvZiBhICJqbnogbmVhciIuIFRoZQo7OyBsb2NhdGlvbiBvZiB0aGUgbWlzc2luZyB0YXJnZXQgaW4gdGhlIGNvZGUgZm9yIHRoZSAiWyIgaW5zdHJ1Y3Rpb24KOzsgaXMgdGhlbiByZXRyaWV2ZWQgZnJvbSB0aGUgc3RhY2ssIHRoZSBjb3JyZWN0IHRhcmdldCB2YWx1ZSBpcwo7OyBjb21wdXRlZCBhbmQgc3RvcmVkLCBhbmQgdGhlbiB0aGUgY3VycmVudCBpbnN0cnVjdGlvbidzIGptcCB0YXJnZXQKOzsgaXMgY29tcHV0ZWQgYW5kIGVtaXR0ZWQuCgplbmRicmFja2V0Om1vdmVheCwgMHg4NTBGMzEzQQpzdG9zZApsZWFlc2ksIFtieXRlIGVkaSAtIDhdCnBvcGVheApzdWJlc2ksIGVheAptb3ZbZWF4XSwgZXNpCnN1YmVheCwgZWRpCnN0b3NkCmptcHNob3J0IHJlbGF5Cgo7OyBUaGlzIGlzIHRoZSBlbnRyeSBwb2ludCwgZm9yIGJvdGggdGhlIGNvbXBpbGVyIGFuZCBpdHMgY29tcGlsZWQKOzsgcHJvZ3JhbXMuIFRoZSBzaGFyZWQgaW5pdGlhbGl6YXRpb24gY29kZSBzZXRzIGVheCBhbmQgZWJ4IHRvIHplcm8sCjs7IGVjeCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSB0aGF0IGlzIHRoZSBjb21waWxlZCBwcm9ncmFtcydzCjs7IGRhdGEgYXJlYSwgYW5kIGVkeCB0byBvbmUuIChUaGlzIGFsc28gY2xlYXJzIHRoZSB6ZXJvIGZsYWcgZm9yIHRoZQo7OyByZWxheSBqdW1wIGJlbG93LikgVGhlIHJlZ2lzdGVycyBhcmUgdGhlbiBzYXZlZCBvbiB0aGUgc3RhY2ssIHRvIGJlCjs7IHJlc3RvcmVkIGF0IHRoZSB2ZXJ5IGVuZC4KCl9zdGFydDoKeG9yZWF4LCBlYXgKeG9yZWJ4LCBlYngKbW92ZWN4LCBEQVRBT1JHCmNkcQppbmNlZHgKcHVzaGEKCjs7IEF0IHRoaXMgcG9pbnQsIHRoZSBjb21waWxlciBhbmQgaXRzIGNvbXBpbGVkIHByb2dyYW1zIGRpdmVyZ2UuCjs7IEFsdGhvdWdoIGV2ZXJ5IGNvbXBpbGVkIHByb2dyYW0gaW5jbHVkZXMgYWxsIHRoZSBjb2RlIGluIHRoaXMgZmlsZQo7OyBhYm92ZSB0aGlzIHBvaW50LCBvbmx5IHRoZSBlbGV2ZW4gYnl0ZXMgZGlyZWN0bHkgYWJvdmUgYXJlIGFjdHVhbGx5Cjs7IHVzZWQgYnkgYm90aC4gVGhpcyBwb2ludCBpcyB3aGVyZSB0aGUgY29tcGlsZXIgYmVnaW5zIHN0b3JpbmcgdGhlCjs7IGdlbmVyYXRlZCBjb2RlLCBzbyBvbmx5IHRoZSBjb21waWxlciBzZWVzIHRoZSBpbnN0cnVjdGlvbnMgYmVsb3cuCjs7IFRoaXMgcm91dGluZSBmaXJzdCBtb2RpZmllcyBlY3ggdG8gY29udGFpbiBURVhUT1JHLCB3aGljaCBpcyBzdG9yZWQKOzsgb24gdGhlIHN0YWNrLCBhbmQgdGhlbiBvZmZzZXRzIGl0IHRvIHBvaW50IHRvIGZpbGVzaXplLiBlZGkgaXMgc2V0Cjs7IGVxdWFsIHRvIGNvZGVidWYsIGFuZCB0aGVuIHRoZSBjb21waWxlciBlbnRlcnMgdGhlIG1haW4gbG9vcC4KCmNvZGVidWY6Cm1vdmNoLCAoVEVYVE9SRyA+PiA4KSAmIDB4RkYKcHVzaGVjeAptb3ZjbCwgZmlsZXNpemUgLSAkJApsZWFlZGksIFtieXRlIGVjeCArIGNvZGVidWYgLSBmaWxlc2l6ZV0Kam1wc2hvcnQgcmVsYXkKCgo7OyBIZXJlIGVuZHMgdGhlIGZpbGUgaW1hZ2UuCgpjb21waWxlcnNpemVlcXUkIC0gJCQKYGBgCgotLS0KVGhlIEVuZA==`;

export default function Page() {
    return <main className={"w-auto overflow-y-auto my-8"}>
        <div className={"mx-auto px-5"}>
            <Markdown remarkPlugins={[remarkGfm]} components={{
                p({node, ...props}) {
                    return <p className={"leading-7 [&:not(:first-child)]:mt-6 text-neutral-800 dark:text-neutral-300 mt-6"} {...props}>{props.children}</p>
                },
                h1({node, ...props}) {
                    return <h1 className={"scroll-m-20 text-center text-4xl font-extrabold tracking-tight text-balance mt-6"} {...props}>{props.children}</h1>
                },
                h2({node, ...props}) {
                    return <h2 className={"scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0 mt-6"} {...props}>{props.children}</h2>
                },
                h3({node, ...props}) {
                    return <h3 className={"scroll-m-20 text-2xl font-semibold tracking-tight mt-6"} {...props}>{props.children}</h3>
                },
                h4({node, ...props}) {
                    return <h4 className={"scroll-m-20 text-xl font-semibold tracking-tight mt-6"} {...props}>{props.children}</h4>
                },
                h5({node, ...props}) {
                    return <h5 className={"scroll-m-20 text-lg font-semibold tracking-tight mt-6"} {...props}>{props.children}</h5>
                },
                h6({node, ...props}) {
                    return <h6 className={"scroll-m-20 text-base font-semibold tracking-tight mt-6"} {...props}>{props.children}</h6>
                },
                a({node, ...props}) {
                    return <a className={"text-blue-600 hover:underline"} {...props}>{props.children}</a>
                },
                code({node, className, children, ...props}) {
                    const match = /language-(\w+)/.exec(className || '')
                    if(match) {
                        const code = [
                            {
                                language: match[1],
                                filename: "",
                                code: String(children).replace(/\n$/, '')
                            }
                        ];

                        return (
                            <CodeBlock data={code} defaultValue={code[0].language}>
                                <CodeBlockBody>
                                    {(item) => (
                                        <CodeBlockItem key={item.language} value={item.language}>
                                            <CodeBlockContent language={item.language as BundledLanguage}>
                                                {item.code}
                                            </CodeBlockContent>
                                        </CodeBlockItem>
                                    )}
                                </CodeBlockBody>
                            </CodeBlock>
                        )
                    }

                    return <code className={cn("bg-muted relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold", className)} {...props}>{children}</code>
                },
                small({node, ...props}) {
                    return <small className={"text-sm leading-none font-medium"} {...props}>{props.children}</small>
                },
                ul({node, ...props}) {
                    return <ul className={"my-6 ml-6 list-disc [&>li]:mt-2"} {...props}>{props.children}</ul>
                },
                blockquote({node, ...props}) {
                    return <blockquote className={"mt-6 border-l-2 pl-6 italic"} {...props}>{props.children}</blockquote>
                },
                pre({node, ...props}) {
                    return <pre className={"mt-2 mb-2 rounded-md overflow-x-auto"} {...props}>{props.children}</pre>
                },
                hr({node, ...props}) {
                    return <Separator className="my-6" {...props}/>
                }
            }}>
                {atob(content)}
            </Markdown>
        </div>
    </main>
}